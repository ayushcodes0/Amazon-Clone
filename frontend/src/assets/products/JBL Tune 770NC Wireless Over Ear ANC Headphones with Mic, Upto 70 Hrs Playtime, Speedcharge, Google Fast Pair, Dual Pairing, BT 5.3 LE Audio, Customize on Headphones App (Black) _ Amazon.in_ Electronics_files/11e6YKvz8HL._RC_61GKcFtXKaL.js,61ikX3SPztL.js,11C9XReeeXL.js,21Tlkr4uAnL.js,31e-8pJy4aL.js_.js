(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(B){var v=window.AmazonUIPageJS||window.P,aa=v._namespace||v.attributeErrors,R=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):v;R.guardFatal?R.guardFatal(B)(R,window):R.execute(function(){B(R,window)})})(function(B,v,aa){B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,a,c,I,k,P,H){function N(d,b,x,t,r){if(!c.isjQueryObjDefined(d.find(".a-button-selected"))){var q=
C.getCurrentItem();if(!t||"chromeless-video"!==q.type||!g.autoplayVideo){t=0;"image"===q.type&&(t=Math.max(c.getIndexForVariant(q.color,q.variant,g),0));var p=0;c.isDefined(g.heroImage[q.color])&&(p=g.heroImage[q.color].length);r=t-(b>=g.maxAlts?g.maxAlts-r-p:0);b=0<=r?b+r:t+p;b>=x&&(t=0,b=p);x=c.getImageHash(q.color,t,g);-1!==x&&(z.dispatch("updateModel",{data:{index:t,thumbnailIndex:b,variant:x.variant,type:"image",shoppableScene:x.shoppableScene}}),x=d.find(".item").get(b),c.selectGivenThumbnail(a(x),
d))}}}function K(a){if(!g.useChildVideos)return c.lazyLoadingRequired(C.getCurrentItem(),C,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var b=g.colorToAsin[a];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(d.success=function(b){videosOnTwisterRefresh(b)},I.load(VIDEO_AJAX_ENDPOINT,d));return g.colorToVideo&&g.colorToVideo[a]}}function y(q,
b,r){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&r)return q;var t=K(b),x=c.isDefined(t)&&0<t.length&&g.alwaysIncludeVideo?1:0;b=g.colorImages&&g.colorImages[b];t=q;var p=0;c.isDefined(b)&&(a.each(b,function(b,e){if(p>=g.maxAlts-x&&q<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var m=a(".thumbItemUnrolled");m[q]?m[q].querySelector("img").src=e.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(q+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(q+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(q+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else c.createThumbnail({type:"image",
index:b,thumbnailIndex:q,variant:e.variant,shoppableScene:e.shoppableScene},e.thumb,d,"imageThumbnail");q++}p++}),P.isEnabled&&H.logAltImgRequestPlacedOnThumbnails(a,P,C),N(d,t,q,r,x));return q}function M(a,b){g.useIV&&c.isDefined(b.hiRes)&&a.css("cursor","pointer")}function E(d,b){if("image"===d.type&&W){var q=a("#image-canvas-caption #canvasCaption"),t=g.staticStrings,r=g.colorImages,p=d.color,f=d.index;if(c.isShoppableScenesEnabled()&&d.shoppableScene)var e=t.clickSceneTagsToShopProducts;else b&&
g.useIV?e=t.clickToExpand:r[p]&&r[p][f].hiRes&&g.useHoverZoom?(e=g.useHoverZoomIpad?t.touchToZoom:g.useClickZoom?t.clickToZoom:t.rollOverToZoom,g.hoverZoomIndicator&&(e="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+e)):g.useIV&&(e=t.clickToExpand);q.html(e)}}function G(d,b){var q="a-dynamic-image";if(!g.acEnabled){var r;a.each(d.main,function(b,m){c.isDefined(r)||(r=parseFloat(m[1]/m[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});q+=r}var f=c.getMaxDimensionsOfMainImage(d.main,
p,g),l=f[0],z=f[1];f=a("\x3cdiv\x3e\x3c/div\x3e");l={"max-height":l,"max-width":z};f.addClass(q).css(l).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return f}function u(a,b,c){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=w.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",d);c.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in v&&(new MutationObserver(function(c,d){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return c}function A(a,b,d){d=G(a,d);a=c.isShoppableScenesEnabled()&&a.shoppableScene?u(b,a,d):w.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);w.find(".list").append(a);n.loadImageManually(d);return a}function O(c){var b=p.css("height");null!==b&&c.find(".imgTagWrapper").css("height",b);c.addClass("selected");g.imgTagWrapperClasses&&c.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function Q(d,
b,r,p){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||p||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){r=c.getImageHash(d.color,d.index,g);if(-1===r)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},c.lazyLoadingRequired(d,C,g)||(z.dispatch("updateModel",b),c.showUnavailable(d.color)),-1;p=w.find(".item.itemNo"+d.thumbnailIndex);c.isjQueryObjDefined(p)||(p=A(r,d.thumbnailIndex,b));O(p);z.dispatch("loadMagnifier");
E(d);M(p,r);n.trigger("dp:image-block:update",r)}}else{d=g.colorImages&&g.colorImages[r];b=a(".unrolledImg");r=K(r);var f=c.isDefined(r)&&0<r.length&&g.alwaysIncludeVideo?1:0;b.length>g.maxAlts&&b.each(function(b){b>=g.maxAlts&&a(this).remove()});c.isDefined(d)&&a.each(d,function(b,d){b<g.maxAlts-f+g.additionalNumberOfImageAlts&&b>=g.maxAlts-f&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+f+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(b+f)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+f)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}}function l(d){var b=C.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=d);d={type:"updatedData",data:C.getCurrentItem()};z.dispatch("updateView",d);(b=g.colorToAsin[b])&&b.asin&&B.register(c.rankedImagesReadyEvent(b.asin))}function f(){var d=w.find(".item .imgTagWrapper"),b=c.getContainerHeight(p,g.holderRatio,g.holderMaxHeight);
0<b&&(p.height(b),d.height(b));w.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var d=b.data("a-dynamic-image");d=c.getMaxDimensionsOfMainImage(d,p,g);b.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function r(d){E(C.getCurrentItem(),"mouseenter"===d.type)}var X,g,C,z,d,w,p,S,W=(k=n.state("imageBlockStateData"))?!k.shouldRemoveCaption:!0;return function(q,b,k,t){X=this;g=q;C=b;z=t;n.on("triggerImageAjax",l);g.colorImages[g.landingAsinColor]=
g.colorImages[g.defaultColor];X.render=function(b,r,f,e,m,h,J){w=f;d=e;p=m;S=y(r,b,h);h||(r=C.getCurrentItem(),c.lazyLoadingRequired(r,C,g)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));r=C.getCurrentItem();f=!h;c.lazyLoadingRequired(r,C,g)||(a("#imageBlock").css("opacity","1"),w.css("opacity","1"),c.spinner(w,!1),w.find("li").removeClass("selected"),W&&a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),f&&w.find(".list .item").remove());Q(C.getCurrentItem(),J,b,h);return S};
X.update=function(b){};g.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");z.register("imageHover",r);z.register("resize",f)}});"use strict";B.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,a,c){var v,k,P,H;return function(a,I,y,M){v=this;k=a;P=M;v.render=function(a,y,u,A,I,Q,l){H=A;v=this;u=k.maxAlts;A=y;I=k.colorImages[a]?k.colorImages[a].length:0;I+=c.getVideosCount(a,k);a=k.heroImage[a];Q=0;a&&(Q=a.length);a=I+Q;a>u&&(u=a-u,a=H.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
u+="+",A={type:"ingress",index:0,thumbnailIndex:y,variant:""},a.find("#altIngressText").append(u),n.declarative.create(a,"thumb-action",A),H.append(a),A=y++);return A};v.update=function(a){"ingress"===a.data.type&&"click"===a.type&&P.dispatch("imageClick",a)}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,a,c,v){function k(r,f,g,l){if(!c.isjQueryObjDefined(r.find(".a-button-selected"))){var z=A.getCurrentItem();if(!l||"chromeless-video"!==
z.type||!u.autoplayVideo){l=0;if("hero-image"===z.type){l=H(z.color,z.variant);if(-1===l)return;l=-1!==l?l:0}var d=f+l;d>=g&&(l=0,d=f);f=v.getHeroImageHash(u,z.color,l);-1!==f&&(O.dispatch("updateModel",{data:{index:l,thumbnailIndex:d,variant:f.variant,type:"hero-image"}}),f=r.find(".item").get(d),c.selectGivenThumbnail(a(f),r))}}}function I(r,f,g){if("hero-video"===A.getCurrentItem().type)return r;f=u.heroImage&&u.heroImage[f];var l=r;c.isDefined(f)&&(a.each(f,function(a,d){r<u.maxAlts&&(c.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:r,variant:d.variant},d.thumb,Q,"imageThumbnail"),r++)}),k(Q,l,r,g));return r}function H(r,f){var g=u.heroImage;if(1>g.length||!c.isDefined(g[r])||!c.isDefined(f))return-1;var l=-1;a.each(g[r],function(a,d){d.variant===f&&(l=a)});return l}function N(){if(l.length&&u.repositionHeroImage){var a=v.getHeroDimParams(u,A.getCurrentItem());if(c.isDefined(a)){var f=c.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ";l.css({"background-position":f,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""})}}}function K(a,f,g,k){if(l.length&&a&&f){if("function"===typeof g||k){var r=new Image;r.onload=k?function(){l.css("background-image",'url("'+a+'")')}:g;r.src=a}g=f[1];r=f[0];k||l.css({"background-image":'url("'+a+'")'});if(u.repositionHeroImage&&(f=v.getHeroDimParams(u,A.getCurrentItem(),f),c.isDefined(f))){g=f.width;r=f.height;var d=c.isDefined(f.xPos)?f.xPos+"px "+f.yPos+"px ":"center "+f.yPos+
"px "}l.css({"background-position":d,"background-size":g+"px "+r+"px ","max-width":g+"px ","min-height":r+"px ",filter:"","-ms-filter":""})}}function y(c,f,g,l){c=v.getHeroImageHash(u,c,f);if(-1===c)return-1;f=a.map(c.main,function(a,d){return d})[0];K(f,c.main[f],g,l)}function M(a,c,f){if("hero-image"!==a.type)return-1;var g=H(a.color,A.getCurrentItem().variant);g=-1!==g?g:0;if(-1===v.getHeroImageHash(u,a.color,g))return-1;var l=A.getCurrentItem();a.thumbnailIndex=l.thumbnailIndex;a.type=l.type;
a.variant=l.variant;a.index=g;E(a,c,f)}function E(a,c,g){var r=v.getHeroImageHash(u,a.color,a.index);var k=a&&f&&n.equals(a,f)?!0:!1;f||(f=a);if(!k&&a||c)y(a.color,a.index,c,g),f=a;l.removeClass("hide-background");n.trigger("dp:image-block:update",r)}var G,u,A,O,Q,l,f={};return function(f,k,g,n){G=this;u=f;A=k;O=n;u.heroImage[u.landingAsinColor]=u.heroImage[u.defaultColor];G.render=function(c,d,f,g,r,k,q){Q=g;l=a("#heroImage");c=I(d,c,k);M(A.getCurrentItem(),q,k);return c};G.update=function(a){var d=
a.data;"ingress"!==d.type&&l.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=A.getCurrentItem().type,-1!==M(d)&&(a.captured=!0)):"hero-image"===d.type&&(E(d),"click"!==a.type&&u.usePeekHover||c.selectGivenThumbnail(a.$declarativeParent,Q))};O.register("resize",N)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(n,a,c,I,k,P){function H(a){Q?a.css("cursor","url('"+E.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function N(a){var f=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(c.isDefined(f)){f=f[1].split("_");for(var l=0;l<f.length;l++){var k=f[l].match(/^([A-Z]+)(\d+(\.\d+)?)$/);c.isDefined(k)&&(a[k[1]]=parseInt(k[2],10))}}return a}function K(l,f){function r(){if(f.useClickZoom){var a=f.offsetInClickZoom;a=[Math.min(1,Math.max(0,x[0]-(D[0]+a))/(D[2]-2*a)),Math.min(1,Math.max(0,x[1]-(D[1]+a))/
(D[3]-2*a))]}else a=b&&b.updatePosition();if(a&&q&&q.detailSize){var h=[q.detailSize[0]-q.rect.width,q.detailSize[1]-q.rect.height];n.capabilities.rtl?q.detailImage.get(0).style.right=-(a[0]*h[0])+"px":q.detailImage.get(0).style.left=-(a[0]*h[0])+"px";q.detailImage.get(0).style.top=-(a[1]*h[1])+"px"}}function u(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function g(b){var e=h?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";x=h?[e.pageX,e.pageY]:[b.pageX,b.pageY];
if(n.capabilities.rtl){var d=a(v).width();x=h?[d-e.pageX,e.pageY]:[d-b.pageX,b.pageY]}}function y(a){h&&a.preventDefault();g(a);f.useClickZoom?a=[D[0],D[1],D[0]+D[2],D[1]+D[3]]:(a=b?b.offset:l.offsetParent().offset(),a=E.acEnabled?[a.left,a.top,S.width()+a.left,S.height()+a.top]:[t[0]+a.left,t[1]+a.top,t[0]+t[2]+a.left,t[1]+t[3]+a.top]);x[0]<a[0]||x[1]<a[1]||x[0]>=a[2]||x[1]>=a[3]||E.acEnabled&&!u(l)?(f.fadeMagnifier?V||(V=!0,ca=setTimeout(function(){z(!0)},500)):f.useClickZoom||z(),G&&(G=!1,clearTimeout(K))):
(G||(G=!0,K=setTimeout(function(){I.postCountMetric("dppc_hoverZoomOpened");k.isEnabled&&P.logHoverZoomRequestServed(k)},1E3)),f.fadeMagnifier&&V&&(V=!1,clearTimeout(ca)),r())}function z(e){e&&p.suppressMagnifier(!0);if(F&&(q&&q.hide(),b&&(b.destroy(),b=null),F=!1,h?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),w(),e))l.one("click.magnifier touchstart.magnifier",
function(a){d(a,!0)})}function d(d,c){c&&p.suppressMagnifier(!1);if(!F&&!e&&(0===J&&(I.postCountMetric("dppc_hoverTime",new Date-(v.ue&&v.ue.t0||0)),J=1),T[m]||(I.postCountMetric("dppc_hoverMain"),T[m]=1),t=[l.position().left,l.position().top,l.width(),l.height()],m&&(g(d),q?q.refit().show():q=new U,f.useClickZoom||(b=b||new ba),D=q.getWindowSize(),r()),F=!0,h?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",y).bind("touchend.magnifier",z),a(document).trigger("engaged.magnifier")):
(E.acEnabled?S.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",y)),c&&(d=a("#zoomWindow"),0<d.length)))d.one("click.magnifier touchend.magnifier",function(a){z(!0)})}function w(){f.useHoverZoom&&(h?l.bind("touchstart.magnifier touchmove.magnifier",d):E.acEnabled?u(l)&&S.bind("mousemove.magnifier",d):l.bind("mousemove.magnifier",d))}var p=this,S=l.offsetParent(),A={detailImageUrl:l.attr("data-old-hires"),location:"over",
locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};f=a.extend(A,f);f.adjustment=[10,0,-10,0];var q=null,b=null,x=null,t=null,D=null,M={"null":1,"":1,undefined:1},F=!1,e=!1,m=f.detailImageUrl,h=f.useHoverZoomIpad||0,J=0,T={},ba=function(){function h(a){var b=Math.round(Math.min(l.width(),q.rect.width/a));a=Math.round(Math.min(l.height(),q.rect.height/a));m.css({width:b,height:a});e=[b,a]}var b=this,e=[0,0],d=(q.detailSize&&q.detailSize[0]||5E8)/t[2],c=(q.detailSize&&q.detailSize[1]||
5E8)/t[3];d=c>d?c:d;a("#magnifierLens").remove();var m=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});f.generalImageUrls.zoomLensBackground&&m.css({backgroundImage:"url("+f.generalImageUrls.zoomLensBackground+")"});E.showMagnifierOnHover?H(m):m.css("cursor","pointer");b.updatePosition=function(){var a=[t[2]-e[0],t[3]-e[1]],h=0>=a[0]?.5:Math.max(0,Math.min(1,(x[0]-e[0]/2-t[0]-b.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(x[1]-e[1]/2-t[1]-b.offset.top)/a[1])),c=t[0]+
Math.round(h*a[0]);a=t[1]+Math.round(d*a[1]);m.get(0).style.left=c+"px";m.get(0).style.top=a+"px";return[h,d]};b.destroy=function(){m.remove()};b.offset=l.offsetParent().offset();h(d);b.updatePosition();m.appendTo(l.parent());q.detailImage[0].complete||q.detailImage.load(function(){var a=q.detailImage.width()/t[2];h(a);b.updatePosition()})};ba.preload=function(){p.preload(f.generalImageUrls.lensBackgroundUrl)};var U=function(){function b(){var b={};if("over"===f.location){b=f.useClickZoom;var h={},
m=a("#leftCol"),J=a("#centerCol"),T=a("#rightCol"),p=a("#hover-zoom-end"),U=a("#actionPanelContainer"),ta=c.isjQueryObjDefined(m)?m.outerHeight():J.outerHeight();h.top=c.isjQueryObjDefined(m)?m.offset().top:J.offset().top;h.bottom=ta+h.top;h.right=c.isjQueryObjDefined(T)?T.offset().left:U.offset().left;h.left=b?0:m.offset().left+m.outerWidth();c.isjQueryObjDefined(p)&&p.offset().top>h.bottom&&(h.bottom=p.offset().top);b=h}else"right"===f.location&&(b=l.offset(),b={left:b.left+l.outerWidth(),top:b.top,
right:b.left+l.outerWidth()+400,bottom:b.top+400});f.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+a(f.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,a(v).scrollTop()+a(v).height());b.left+=d[0];b.top+=d[1];b.right+=d[2];b.bottom+=d[3];b.width=b.right-b.left;b.height=b.bottom-b.top;f.enhancedHoverOverlay&&c.isDefined(v.pageXOffset)&&(h=a(v).width(),b.width=h-b.left+v.pageXOffset-18,b.height-=14);g.css({left:b.left,top:b.top,width:b.width,height:b.height});e.rect=b;return e}function h(a){var b=
new Image;e.detailSize=[0,0];b.onload=function(){e.detailSize=[b.width,b.height];r()};b.src=a.attr("src");if(0<b.width&&0<b.height)e.detailSize=[b.width,b.height];else if(f.detailImageSize)e.detailSize=f.detailImageSize;else{a=N(b.src);var h=t[2]/t[3];a.SS||a.AA?(a=a.SS||a.AA,e.detailSize=[a,a]):a.SX?e.detailSize=[a.SX,Math.round(a.SX/h)]:a.SY?e.detailSize=[Math.round(a.SY*h),a.SY]:a.SL&&(e.detailSize=1<=h?[a.SL,Math.round(a.SL/h)]:[Math.round(a.SL*h),a.SL])}}var e=this,d=f.adjustment;a("#zoomWindow").remove();
var J={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:f.zIndex};f.enhancedHoverOverlay&&(J.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",J.border="1px solid #949494",J.borderColor="rgb(148,148,148)");var g=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(J);f.fadeMagnifier&&g.fadeIn(200);f.useClickZoom&&(Q?g.css("cursor",'url("'+f.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));e.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+
b+"'/\x3e").css("position","absolute");e.detailImage&&e.detailImage.remove();g.append(b);a(document).trigger("updated.magnifier");e.detailImage=b;h(e.detailImage)};e.refit=function(){b();h(e.detailImage);return e};f.fadeMagnifier?(e.show=function(){g.fadeIn(200);return e},e.hide=function(){g.fadeOut(200);return e}):(e.show=function(){g.show();return e},e.hide=function(){g.hide();return e});e.destroy=function(){g.remove();return e};e.getWindowSize=function(){return[e.rect.left,e.rect.top,e.rect.width,
e.rect.height]};e.updateImage(m);b();g.appendTo(document.body)},V=!1,ca,G=!1,K;p.preload=function(b){b=a.makeArray(b);for(var h=b.length,e=0;e<h;e++)b[e]instanceof Array?p.preload(b[e]):"string"===typeof b[e]&&b[e]&&!M[b[e]]&&(M[b[e]]=new Image,M[b[e]].src=b[e])};p.changeImage=function(b,e){F&&z();m=e;l.attr("src",b);p.preload(b);t=[l.position().left,l.position().top,l.width(),l.height()];e&&("immediately"===f.preload?p.preload(e,!0):a(v).ready(function(){p.preload(e)}),q?q.updateImage(e):l.attr("data-old-hires",
e))};p.destroy=function(){E.acEnabled?S.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");b&&b.destroy();b=null;q&&q.destroy();q=null};p.detailImage=function(){return q.detailImage};p.suppressMagnifier=function(b){e=b};p.isEngaged=function(){return F};p.engageMagnifier=d;p.disengageMagnifier=z;l[0].complete?w():l.one("load",w);p.preload(l.attr("src"));
v.performance&&performance.now&&v.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(f.preload){var O=f.detailImageUrl;A=function(){p.preload(O,!0);f.useClickZoom||ba.preload()};var B=f.preload;B.constructor!==Array&&(B=[B]);for(var Z=0;Z<B.length;Z++)if("immediately"===B[Z])A();else if(a(v)[B[Z]])a(v)[B[Z]](A);else a(v).bind(B[Z],A)}return p}function y(){if(E.useHoverZoom){var l={adjustment:[0,0,1,1],generalImageUrls:E.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:E.useHoverZoomIpad,useHoverZoom:E.useHoverZoom,useClickZoom:E.useClickZoom,fadeMagnifier:E.fadeMagnifier,zoomOutIcon:E.staticImages.zoomOutCur,enhancedHoverOverlay:E.enhancedHoverOverlay||E.atfEnhancedHoverOverlay};A&&(A.destroy(),A=aa);var f=O.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");c.isjQueryObjDefined(f)?E.useClickZoom?(f.one("click.loadmagnifier touchstart.loadmagnifier",function(a){A=
new K(f,l);A.engageMagnifier(a,!0)}),Q?f.css("cursor",'url("'+E.staticImages.zoomInCur+'"), auto'):(f.css("cursor","-webkit-zoom-in"),f.css("cursor","-moz-zoom-in"),f.css("cursor","zoom-in"))):A=new K(f,l):k.isEnabled&&P.logHoverZoomApplicability(a,k)}}var M,E,G,u,A,O,Q=navigator.userAgent.match(/msie|trident/i);return function(a,c,r,n){M=this;E=a;G=c;k.refToModel=G;u=n;M.render=function(a,c,f,d,l,p){O=f;A&&(A.destroy(),A=aa)};M.update=function(a){};u.register("loadMagnifier",y);u.register("resize",
y)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,a,c,I){function k(a,k,n){a=(a=n?n:c.getColorFromState(k.getState().hovered_variations,N))&&""!==a?a:N.defaultColor;y.dispatch("updateView",{type:"swatchHover",data:{color:a}});I.postCountMetric("swatchHover")}function B(a,k,n,u){a=(a=u?u:c.getColorFromState(k.getState().selected_variations,N))&&""!==a?a:N.defaultColor;a===K.getCurrentItem().color?"function"===typeof n&&n():(y.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof v.markFeatureRender&&v.markFeatureRender("imageblock",a);n()}}),I.postCountMetric("swatchClick"))}var H,N,K,y;return function(a,c,v,u){H=this;N=a;K=c;y=u;n.on("image-block-twister-swatch-hover",k);n.on("image-block-twister-swatch-click",B);H.render=function(a,c,k,l,f){};H.update=function(a){}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,a,c,I,k,P,H){function N(b,e,m,f){if(!c.isjQueryObjDefined(b.find(".a-button-selected"))){var h=w.getCurrentItem();if(!f||"chromeless-video"!==h.type||!d.autoplayVideo)if(f=0,"image"===h.type&&(f=Math.max(E(h.color,h.variant),0)),!(h.thumbnailIndex>=d.maxAlts&&0!=f)){var g=e+f;g>=m&&(f=0,g=e);e=c.getImageHash(h.color,f,d);-1!==e&&(p.dispatch("updateModel",{data:{index:f,thumbnailIndex:g,variant:e.variant,type:"image",
shoppableScene:e.shoppableScene}}),e=b.find(".item").get(g),c.selectGivenThumbnail(a(e),b))}}}function K(b,e,m){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&m)return b;var h=d.colorImages&&d.colorImages[e];e=b;2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(b){(!a(this)[0].classList.contains("thumbTypeimage")||b>=h.length||b>=d.maxAlts)&&a(this).remove()});c.isDefined(h)&&(a.each(h,function(e,m){if(b<d.maxAlts)if(2===
d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){b++;var f=a(".thumbItemUnrolled");f[e]?f[e].querySelector("img").src=m.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+b+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+b+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
b+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+m.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e={type:"image",index:e,thumbnailIndex:b,variant:m.variant,shoppableScene:m.shoppableScene},m=c.createThumbnail(e,m.thumb,q,"imageThumbnail"),d.desktopCollapsibleThumbnails&&c.updateImageThumbnailOverlay(m,e,h),b++}),P.isEnabled&&H.logAltImgRequestPlacedOnThumbnails(a,P,w),N(q,e,b,m));return b}function y(b,a){d.useIV&&c.isDefined(a.hiRes)&&
b.css("cursor","pointer")}function M(b,e){if("image"===b.type&&m){var h=a("#image-canvas-caption #canvasCaption"),f=d.staticStrings,g=d.colorImages,J=b.color,p=b.index;if(c.isShoppableScenesEnabled()&&b.shoppableScene)var l=f.clickSceneTagsToShopProducts;else e&&d.useIV?l=f.clickToExpand:g[J]&&g[J][p].hiRes&&d.useHoverZoom?(l=d.useHoverZoomIpad?f.touchToZoom:d.useClickZoom?f.clickToZoom:f.rollOverToZoom,d.hoverZoomIndicator&&(l="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+l)):
d.useIV&&(l=f.clickToExpand);h.html(l)}}function E(b,a){return c.getIndexForVariant(b,a,d)}function G(b,a,c){var h=a.thumbnailIndex,m=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a="altImageHover"===c&&t&&t.altImageIdx===h&&t.asin===m&&"swatchClick"===t.event?!0:"swatchHover"===c?t&&t.asin===m&&t.event===c:t&&t.altImageIdx===h&&t.asin===m&&t.event===c;if(!a){var f="#",g=b.find(".imgTagWrapper img").get(0);g&&(f=g.src);b=new Image;b.onload=function(){if(g){g.src=f;var b=g.width,a=g.height,d=
g.naturalWidth,J=g.naturalHeight;try{var l=(Math.abs(b/d*J-a)/a).toFixed(2);.01<l&&(v.ue&&((("landing"!==c||F||e)&&"swatchClick"!==c||v.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?v.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||e?"altImageHover"!==c||F||(v.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),F=!0):(v.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),e=!0)),v.ueLogError&&(b={logLevel:"WARN",
attribution:"imageBlock-PC-hi_res_image_distortion"},v.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+m+" Event:"+c+" Diff:"+l.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+m+" at altImageIdx "+h+" Event:"+c+" Diff:"+l.toString()+"]"},b)))}catch(ja){v.ueLogError&&(b={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},v.ueLogError(ja,b))}}};"#"!==f&&(b.src=f);t.altImageIdx=h;t.asin=m;t.event=c}}function u(b,
e){var h="a-dynamic-image";if(!d.acEnabled){var m;a.each(b.main,function(b,a){c.isDefined(m)||(m=parseFloat(a[1]/a[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=m}var f=c.getMaxDimensionsOfMainImage(b.main,x,d),g=f[0],l=f[1];f=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":l};f.addClass(h).css(g).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",b.main);return f}function A(a,e,c){var h="desktop-dp-atf-ib-shoppablescenes-tags-"+
a;"function"==typeof uet&&uet("bb",h,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=b.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":h,"data-csa-c-type":"widget","data-csa-c-asin":d.mediaAsin,"data-csa-c-physical-id":e.shoppableScene.physicalId,"data-product-line":e.shoppableScene.productLine});c.children("span").css("display",
"inline-block");p.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:e.shoppableScene,imageSource:e.hiRes||e.large||e.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in v&&(new MutationObserver(function(b,h){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&
(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:e.shoppableScene})}),h.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",h,{wb:1});return c}function O(a,e,d){d=u(a,d);a=c.isShoppableScenesEnabled()&&a.shoppableScene?A(e,a,d):b.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+
e+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":e+1});a.find(".placeHolder").replaceWith(d);b.find(".list").append(a);n.loadImageManually(d);n.trigger("dp:image-block:imageBlockImageLoad",e);return a}function Q(b){var a=x.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");d.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}
function l(b){if(b.isUserGenerated){var a=w.getPreviousItem(),e=b.variant;c.isDefined(e)&&a.thumbnailIndex!==b.thumbnailIndex&&(P.isEnabled&&H.logAltImgRequestServed(P),k.postCountMetric("ImageThumbnailSelectedVariant:"+e),0===e.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+e),k.postCountMetric("IGImageSelectedEvent:"+b.interaction)))}}function f(h,m,f,g){if(2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||g||"unavailable"===h.type){if("image"===h.type||"unavailable"===
h.type||"lazy-loaded"===h.type){(J=c.isDefined(m))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");f=c.getImageHash(h.color,h.index,d);if(-1===f)return m={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},c.lazyLoadingRequired(h,w,d)||(p.dispatch("updateModel",m),c.showUnavailable(h.color)),-1;g=b.find(".item.itemNo"+h.thumbnailIndex);c.isjQueryObjDefined(g)||(g=O(f,h.thumbnailIndex,m),J?(e=F=!1,G(g,h,"swatchClick")):G(g,h,"altImageHover"));Q(g);p.dispatch("loadMagnifier");
M(h);y(g,f);l(h);n.trigger("dp:image-block:update",f)}}else if(h=d.colorImages&&d.colorImages[f],a(".unrolledImg").each(function(b){a(this).remove()}),c.isDefined(h)){a.each(h,function(b,e){if(b<d.maxAlts){var h=a(".unrolledImg");h[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+e.large+'" data-a-hires\x3d"'+e.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=h.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
e.large+'" data-a-hires\x3d"'+e.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}});n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var J=c.isDefined(m);J&&(k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),m())}}function r(a){var e=Math.max(E(a.color,w.getCurrentItem().variant),0);e=c.getImageHash(a.color,e,d);if(-1===e)return c.lazyLoadingRequired(a,
w,d)||c.showUnavailable(a.color),-1;var h=b.find(".swatchHoverExp"),m=u(e);h.find(".imgTagWrapper").html(m);n.loadImageManually(m);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");Q(h);G(h,a,"swatchHover");n.trigger("dp:image-block:update",e)}function X(e,f){c.lazyLoadingRequired(e,w,d)||(a("#imageBlock").css("opacity","1"),b.css("opacity","1"),c.spinner(b,!1),b.find("li").removeClass("selected"),m&&a("#image-canvas-caption #canvasCaption").empty(),c.hideUnavailable(),f&&b.find(".list .item").remove())}
function g(){var e=b.find(".item .imgTagWrapper"),m=c.getContainerHeight(x,d.holderRatio,d.holderMaxHeight);0<m&&(x.height(m),e.height(m));b.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var e=b.data("a-dynamic-image");e=c.getMaxDimensionsOfMainImage(e,x,d);b.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function C(b){M(w.getCurrentItem(),"mouseenter"===b.type)}var z,d,w,p,S,W,q,b,x,t={},D,L=null,F=!1,e=!1,m=(I=n.state("imageBlockStateData"))?
!I.shouldRemoveCaption:!0;n.on("triggerImageAjax",function(b){var a=w.getCurrentItem().color;d.colorImages[a]||(d.colorImages[a]=b);b={type:"updatedData",data:w.getCurrentItem()};p.dispatch("updateView",b);(a=d.colorToAsin[a])&&a.asin&&B.register(c.rankedImagesReadyEvent(a.asin))});return function(e,m,l,n){z=this;d=e;w=m;p=n;d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];z.render=function(e,m,h,g,l,k,r,n){b=2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?h:a(".unrolledScrollBox");
q=g;x=l;D=K(m,e,k);k?0===m&&G(b.find(".item.itemNo0"),w.getCurrentItem(),"landing"):(m=w.getCurrentItem(),c.lazyLoadingRequired(m,w,d)&&p.dispatch("updateModel",{data:{type:"lazy-loaded"}}));X(w.getCurrentItem(),!k);2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment?"swatchClick"===n&&d&&d.colorImages?(L=d.colorImages[e],f(w.getCurrentItem(),r,e,k)):"updatedData"===n&&d&&d.colorImages&&d.colorImages[e]!==L&&(L=d.colorImages[e],f(w.getCurrentItem(),r,e,k)):f(w.getCurrentItem(),r,
e,k);return D};c.isImageBlockGridViewHoverDelayEnabled()?z.update=function(b){var a=b.data;w.setCurrentEvent(b);"ingress"!==a.type&&"swatchHover"!==b.type&&(w.setToPreviousItem(),"mouseenter"===b.type?(W&&clearTimeout(W),W=setTimeout(function(){w.setToCurrentItem(a);X(b.data,!1)},c.getHoveringDelayTimer())):"mouseleave"===b.type?W&&clearTimeout(W):"click"===b.type&&(w.setToCurrentItem(a),X(b.data,!1)));"swatchHover"===b.type?("ingress"!==a.type&&X(b.data,!1),a.color===w.getCurrentItem().color?f(w.getCurrentItem(),
null,a.color,!0):b.captured||-1===r(a)||(b.captured=!0)):"image"===a.type&&(a.interaction=b.type,a.isUserGenerated=!0,"mouseenter"===b.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+D),S&&clearTimeout(S),S=setTimeout(function(){f(a,null,a.color,!0);d.usePeekHover||c.selectGivenThumbnail(b.$declarativeParent,q)},c.getHoveringDelayTimer())):"mouseleave"===b.type?S&&clearTimeout(S):"click"===b.type&&(f(a,null,a.color,!0),c.selectGivenThumbnail(b.$declarativeParent,q),k.postCountMetric("dpcc_imageThumbClicked_total"),
k.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+D)))}:z.update=function(b){var a=b.data;w.setCurrentEvent(b);"ingress"!==a.type&&X(b.data,!1);"swatchHover"===b.type?a.color===w.getCurrentItem().color?f(w.getCurrentItem(),null,a.color,!0):b.captured||-1===r(a)||(b.captured=!0):"image"===a.type&&(a.interaction=b.type,a.isUserGenerated=!0,"mouseenter"===b.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(a.thumbnailIndex+1)+"_"+D),f(a,null,a.color,!0),d.usePeekHover&&"click"!==
b.type||(c.selectGivenThumbnail(b.$declarativeParent,q),"click"===b.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(a.thumbnailIndex+1)+"_"+D))))};d.overrideAltImageClickAction&&c.addTag("clickEnabledOnAltImages");p.register("imageHover",C);p.register("resize",g)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(n,a,c,v){function k(c,l){c=a("\x3cimg src\x3d'"+(l?u.staticImages.shoppableSceneDotHighlighted:
u.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:l?"none":"inline-block"});c.addClass("mirai-scene-tag").addClass(l?"active-tag":"inactive-tag");return c}function I(c){var l=a("\x3cspan\x3e");n.each(c.tags,function(c){var f=a("\x3cdiv\x3e").css({position:"absolute",left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});f.append(k(c,!1));f.append(k(c,!0));f.bind("mouseenter",function(){H(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});n.declarative.create(f,
"scenes-show-details-tags-ib",{tagId:c.link});l.append(f)});return l.children()}function H(a){a.addClass("mirai-scene-dot-pulsate");n.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function N(a,c){a.css({display:"none"});c.css({display:"inline-block"})}function K(a,c,f){a.eq(f).css({display:"inline-block"});c.eq(f).css({display:"none"})}function y(a){B.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){n.trigger("mirai:scene-details-change",
{physicalId:a})})}function M(){var c=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),l=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",u.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),f=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");f.html(u.staticStrings.shoppableSceneViewProductsButton);return c.append(l).append(f)[0].outerHTML}function E(a){function c(){a.$tagPlaceholder.replaceWith(k);var c=k.find(".mirai-scene-tag.active-tag"),f=
k.find(".mirai-scene-tag.inactive-tag");K(c,f,0);H(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));O=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});z=!0;v.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var f=a.$viewProductsButton.find(".a-button-text");if(0===f.children().length){f.append(M());n.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:a.shoppableScene.tags[0].link});var k=I(a.shoppableScene),y=k.find(".mirai-scene-tag.active-tag"),g=k.find(".mirai-scene-tag.inactive-tag"),A=a.shoppableScene.physicalId,z=!1;n.on("mirai:index:change",function(a){a.scenePhysicalId===A&&(a=a.selectedIndices[0],N(y,g),K(y,g,a),H(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),O=!0)});n.on("mirai:scene-details-change",function(a){a.physicalId!==A||O||(N(y,g),K(y,g,0),H(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
O=!0)});n.on("mirai:no-products-active",function(a){a.scenePhysicalId===A&&N(y,g)});n.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===A&&(N(y,g),K(y,g,0))});n.on("a:image:load:shoppable-scene:"+a.index,function(){z||(c(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});n.on("shoppable-scene-image-loaded",function(d){d.index!=a.index||z||(c(),v.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});B.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){n.trigger("mirai:scene-side-sheet-init",{icons:u.staticImages,strings:u.staticStrings});n.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var G,u,A,O=!1;return function(a,l,f,k){G=this;u=a;A=k;c.isShoppableScenesEnabled()?(A.register("initialize-shoppable-scene",E),G.render=function(a,c,f,l,d,k,p){},G.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?y(a.data.shoppableScene.physicalId):O=!1)}):(a=function(){},G.render=a,G.update=
a)}});B.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var R="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};B.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,
a,c,I,k,B,H,N,K){function y(a){return null!==a&&"undefined"!==typeof a}function M(b){var e=0;a.each(b,function(a,b){a=parseInt(b[1],10);a>e&&(e=a)});return e}function E(b){var e=0;a.each(b,function(a,b){a=parseInt(b[0],10);a>e&&(e=a)});return e}function G(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=M(a);0<a&&(b=Math.min(b,a));return b}function u(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=E(a);0<a&&(b=Math.min(b,a));return b}function A(b){var e;a.each(b,function(a,b){y(e)||
(e=b[1]/b[0])});return e||1}function O(a){if(a){if(0<a.indexOf(".m3u8"))return"application/x-mpegURL";if(0<a.indexOf(".mp4"))return"video/mp4"}return""}function Q(b,m,h,d,g,k,n,t,q,r,x,u,v,y,w){var e=a.extend({},h.foresterMetadataParams);null!==d&&(e.method+="."+d);var J=[];m.disabledViewIds&&(J=m.disabledViewIds);w=w&&w.videoBackgroundChromefulMainView?w.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===y&&(w="transparent");return c.embed({parentElement:b[0],streamingUrls:m.url,contentId:m.mediaObjectId,
contentMinAge:Number(m.minimumAge||"")||0,contentTitle:m.title,swfUrl:h.swfUrl,foresterMetadataParams:e,backgroundColor:w,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:m.slateUrl,postMediaSlate:m.slateUrl},videoAds:h.videoAds,bindings:{play:function(){if("ImmersiveView"===d)p||(p=!0,I.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(S||(S=!0,I.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var a=I.buildNexusMetric("ib.thumbnailClick",q,m.mediaObjectId,m.rankingStrategy,m.groupType,
x,u,v);I.emitNexusMetric(a)}}},cuePoints:[{values:m.durationSeconds-1,type:"position",callback:function(a,b,e){g&&(l(0,k,t),f(n))}}],disabledViewIds:J})}function l(a,b,c){b.fadeTo(500,0,function(){r(a,c);b.fadeTo(500,1)})}function f(a){a&&a.toggle()}function r(b,c){c=c.find("img");y(c[b])&&a(c[b]).click()}function P(a,c){b[a]=c?c:b[a];return b[a]}function g(b,c,h){h=h||q;h=h.colorImages;if(1>h.length||!y(h[b])||!y(c))return-1;var e=-1;a.each(h[b],function(a,b){b.variant===c&&(e=a)});return e}function C(b,
c,h){h=h||q;h=h.colorImages;return!(y(h)&&y(h[b])&&y(h[b][c])&&y(h[b][c].main))||1>a.map(h[b][c].main,function(a,b){return b}).length?-1:h[b][c]}function z(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,d.css("width",""),d.css("height",""),a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function d(b,c){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;b=e;H.isEnabled&&(H.IVApplicaple=b,N.logImmersiveViewApplicability(a,H));return b}function w(){return 0<
a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var p,S,W,q=a.extend(!0,{},k,B),b={},x=0,t=0,D=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,L={},F={};return{isDefined:y,isDefinedAndEmpty:function(a){return y(a)&&"object"===("undefined"===typeof a?"undefined":R(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return y(a)?"object"===("undefined"===typeof a?"undefined":R(a))&&0===Object.keys(a).length:!0},
isDefinedAndNotEmpty:function(a){return y(a)?"object"===("undefined"===typeof a?"undefined":R(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:A,getMaxHeightOfMainImage:u,getMaxWidthOfMainImage:G,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var e=u(a,b,c);b=G(a,b,c);a=A(a);c=b/a;b=Math.min(b,e*a);e=Math.min(e,c);return[e,b]},getContainerHeight:function(a,b,c){var e=a.get(0);a=0;if(y(e)){a=Math.min(e.offsetWidth/
b,c);var d;b=q.mainImageHeightPartitions;c=q.mainImageMaxSizes;if(y(c)&&y(b)){var h=0,f=v.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(e=0;e<b.length;e++)f>b[e]&&(h=e+1);c.length>=h&&(d=c[h])}y(d)&&(a=Math.min(d[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||q;var e="";a.each(c.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(a,b,c,d){var e=c.find(".template").clone().removeClass("template").addClass("item"),
f=document.createElement("img");f.src=b;e.find(".placeHolder").replaceWith(f);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");y(d)&&e.addClass(d);w()&&e&&(d=document.createElement("div"),d.className="imageBlockThumbnailImageGrayOverlay",f.parentNode.insertBefore(d,f));n.declarative.create(e,"thumb-action",a);e.attr&&(e.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),
e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
a.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,f,g,l,k){Q(a,b,c,d,f,g,l,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:Q,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(W={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(W)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,
refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:O(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},
hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:l,toggleVideoCaption:f,selectThumbnail:r,spinner:function(b,c){var e=a("#imageBlock .a-spinner").parent();0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",
height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:P,getIndexForVariant:g,getImageHash:C,lazyLoadingRequired:function(a,b,c){b=Math.max(g(a.color,b.getCurrentItem().variant,c),0);b=-1!==C(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==P(a);return!c.lazyLoadExperienceDisabled&&
!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:z,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();z(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!y(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return y(a)&&y(a[b])&&y(a[b].url)?a[b]:-1},isImmersiveViewEnabled:d,
playVideoInImmersiveView:function(a,b){return d(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return y(W)?W.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},
addTag:function(a){v.ue&&v.ue.tag&&v.ue.tag(a)},isShoppableScenesEnabled:function(){return K.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:w,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return x},updateThumbnailHoverDelay:function(a){if(y(a)){x=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);
if(-1!==b){var c=t;a=a.closest("ul").attr("class");a===aa?c=!1:(a=D.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(x=100);t=b}}},setDimensionIngressData:function(a,b,c){L[a]=b;F[a]=c},isDimensionIngressEnabled:function(a){return!!L[a]},getDimensionVariantList:function(a){return F[a]},logError:function(a,b,c,d){v.ueLogError&&v.ueLogError(d,{logLevel:a,attribution:b,message:c})}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,a,c,I,k,P){function H(d,f,g,h){!b.autoplayVideo||ma||b.useChromelessVideoPlayer?!c.isjQueryObjDefined(d.find(".a-button-selected"))&&(g=x.getCurrentItem(),!h||b.prioritizeVideos||"chromeless-video"===g.type&&b.autoplayVideo)&&(h=c.getVideoHash(g.color,0,b),-1===h||g.thumbnailIndex>=b.maxAlts-1||(f+=0,t.dispatch("updateModel",{data:{index:0,thumbnailIndex:f,variant:h.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),
f=d.find(".item").get(f),c.selectGivenThumbnail(a(f),d))):(c.selectGivenThumbnail(d.find("img:last"),d),c.fadeToThumbnail(d.find("img").length-1,e,d))}function N(a){var d=x.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[d]){var e=function(){if(a){b.colorToVideo[d]=a;var c={type:"updatedData",data:x.getCurrentItem()};t.dispatch("updateView",c)}};b.lazyLoadExperienceDisabled?e():B.when(c.rankedImagesReadyEvent(b.colorToAsin[d].asin)).execute(function(){e()})}}function K(a){a&&(b.notShowVideoCount=
a,a={type:"updatedData",data:x.getCurrentItem()},t.dispatch("updateView",a))}function y(a){if(!b.useChildVideos)return c.lazyLoadingRequired(x.getCurrentItem(),x,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var d=b.colorToAsin[a];if(d&&d.asin){var e={};e.params={asin:d.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(e.success=function(a){N(a)},I.load("/gp/product/features/apparel-main-image/videos.html",
e));return b.colorToVideo&&b.colorToVideo[a]}}function M(a){h&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(h.hide(),L.parent().css("z-index",-1),F&&F.hide())}function E(a,d,f){d=e.width()/e.height();var g=parseInt(a.videoWidth,10),k=parseInt(a.videoHeight,10);c.updateAspectRatio(d,g,k,L);if(h&&"unrolled-video-add"!==f)h.show(),c.loadMediaIntoAiry(h,a,J,b.tabletWeb);else if(b.tabletWeb)h=U;else{if("unrolled-video-add"===f){h=U;return}if(null===U||U===aa)Y=setInterval(function(){h=
U;h!==aa&&null!==h&&(h.show(),c.loadMediaIntoAiry(h,a,J,b.tabletWeb),G(),l(h),clearInterval(Y),Y=null)},500);else if(h=U,h!==aa&&null!==h){h.show();c.loadMediaIntoAiry(h,a,J,b.tabletWeb);G();l(h);return}}G();l(h)}function G(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(c.useTabbedImmersiveView(b)){if(1<c.getVideosCount(x.getCurrentItem().color,b)&&F){if(c.isDefined(m)){F.show();return}m=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);
F.find("#videoCaption").append(m);n.declarative.create(m,"videoIngressClick",T)}c.playVideoInImmersiveView(b,x.getCurrentItem().color)&&(n.declarative.create(L,"videoIngressClick",T),L.attr&&L.attr("data-ux-click",""),L.children().css("z-index","-1"),L.css("display","inline-block"))}else F&&(F.find("#videoCaption").text(b.staticStrings.playVideo),F.show())}function u(a,d){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===d){var e=c.getVideoHash(a.color,a.index,b);
if(-1===e)return-1;"chromeful-video"===a.type&&E(e,a.thumbnailIndex+1,d)}}function A(d,e,f){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&f)return d;var g=y(e);e=d;var h=a(".unrolledImg"),l=c.isDefined(g)&&0<g.length&&b.alwaysIncludeVideo?1:0;c.isDefined(g)&&0<g.length&&!b.alwaysIncludeVideo&&d===b.maxAlts&&k.postCountMetric("IBVideoDrop");h.length>b.maxAlts&&h.each(function(c){c>=b.maxAlts&&a(this).remove()});l&&d===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?
(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):D.find(".item:last").remove(),d--);c.isDefined(g)&&(a.each(g,function(e,f){if(d<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+d+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||O(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var l={type:h,index:e,thumbnailIndex:d,variant:f.variant};T={type:"video-ingress",index:e,thumbnailIndex:d,variant:f.variant};c.useTabbedImmersiveView(b)&&("chromeful-video"===h&&(ka+=" videoBlockIngress  videoBlockDarkIngress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ka+=
" a-align-top"));c.isImageBlockGridViewDisplayEnabled()&&(ka+=" videoImageBlockGridView");c.createThumbnail(l,f.thumb,D,ka);2===b.dp60VideoPosition&&O(D,b.dp60VideoPosition);c.useTabbedImmersiveView(b)&&(Q(D.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL),e=1<g.length?"multiple-videos":"one-video",(l=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:1<g.length?g.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo)&&D.find(".videoBlockIngress").append(D.find("#videoCount_template").clone().text(l).attr("id",
"videoCount")).addClass(e));f=k.buildNexusMetric("ib.thumbnailRender",d+1,f.mediaObjectId,f.rankingStrategy,f.groupType,ca,V,R,da);k.emitNexusMetric(f);ja||(ja=!0,k.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}d++}if(c.useTabbedImmersiveView(b))return!1}),H(D,e,d,f),z(w),b.imageBlockRenderingStartTime&&k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-b.imageBlockRenderingStartTime));return d}function O(c,d){if(0!==d)if(2===
b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var e=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage");c=c.children(".thumbType"+e);f&&c&&f[d-1]&&a(f[d-1]).before(c[0]);c=a(".unrolledScrollBox .list-unrolled");f=c.children(".unrolledImg.imgMedia");c=c.children(".unrolledImg.videoMedia");f&&c&&f[d-1]&&a(f[d-1]).before(c[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&
(c=d);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else f=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),f&&c&&f[d-1]&&a(f[d-1]).before(c[0])}function Q(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function l(a){b.autoplayVideo&&a&&!ma&&(F&&c.toggleVideoCaption(F),a.setVolume(0),a.show(),a.play(),ma=!0)}function f(c){h&&h.pause();c.data=T;
c.clickTimeStamp=c.$event.timeStamp;var d="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";t.dispatch("imageClick",c);k.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=k.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].rankingStrategy,b.videos[0].groupType,ca,V,R,da);k.emitNexusMetric(c);k.postCountMetric(d);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display",
"inline-block")}function r(b){null!==h&&h!==aa&&(h.frame&&h.frame.remove(),h=null,U.frame&&U.frame.remove(),U=null);U=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");U.hide=function(){U.pause();n.$("#main-video-container").find(".vse-player-container").hide()};U.show=function(){n.$("#main-video-container").find(".vse-player-container").show()};U.getMediaSourceInfo=function(){return c.getMediaSourceInfo()}}function X(d,g,h,l,k,p){M(p);L=null!==p?
a("#unrolledImgNo"+p.thumbnailIndex):l.find("#main-video-container");sa&&(F=null!==p?"":L.parent().find("#video-canvas-caption"));e=null!==p?a(".unrolledScrollBox"):a("#main-image-container");null===p&&c.isImageBlockGridViewDisplayEnabled()&&(L.addClass("videoCenter"),l.find("#video-outer-container").addClass("videoWrapperCenter"));ca=v.location.href;d=x.getCurrentItem().color;!0===k?V=b.mediaAsin:(V=b.colorToAsin[d]&&b.colorToAsin[d].asin,V=c.isDefined(V)?V:b.mediaAsin);b.useChromelessVideoPlayer||
L.addClass("chromeful-container");null!==p?u(p,"unrolled-video-add"):u(x.getCurrentItem(),"");c.useTabbedImmersiveView(b)&&n.declarative("videoIngressClick",["click"],f);if(-1!==m&&null!==p){d=x.getCurrentItem().color;var m=c.getVideoHash(d,p.index,b);k={requester:"MediaBlockSoftlines",marketplaceID:m.marketPlaceID,clientPrefix:"mbSoftlines"+p.thumbnailIndex,locale:m.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:m.url,
imageURL:m.slateUrl},product:{contentID:W(b,d),contentIDType:"ASIN"}};P.get(n,"#unrolledImgNo"+p.thumbnailIndex,k,function(){n.$("#unrolledImgNo"+p.thumbnailIndex).find(".vse-player-container").show()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(b,c){function d(){var a=Math.floor((D.width()-1)/l);return f?a-1:a}function e(b){b=d();c.slice(b).hide();c.slice(0,b).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){a(this).parent().attr("aria-hidden",
"true")});if(b<c.length){var e=b-1;b=c.eq(e);c.eq(e).find("img").parent().attr("aria-hidden","false");e=c.length-e;e=a("\x3cspan\x3e").addClass("textMoreImages").text(e+"+");b.find("img").after(e);b.addClass("overlayRestOfImages")}}var f=0!=D.find(".item.videoThumbnail").length,g=c.eq(0).width(),h=c.eq(1).position().left-c.eq(0).position().left-g,l=g+h;e();b.register("resize",e)}function C(a){var b=D.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){g(a,
b)})}}function z(a){try{if(!a)return!1;na=a;ea=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==la&&la.disconnect();0<ea.length&&(la=new IntersectionObserver(d,a));ea.forEach(function(a){la.observe(a)})}catch(ua){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function d(a){na(a,ra,qa,ea,pa)}function w(b,c,d,e,f){try{a.each(b,function(b,g){var h=a(e).index(g.target);g.isIntersecting?fa[h]||(fa[h]=setTimeout(function(){c=
c.slice();c.push(h);d=c.sort(function(a,b){return a-b});var a=p(d,f);if(0!==a.length&&0!==d.length){var b=x.getCurrentItem().color;b=y(b);S(b,a);delete fa[h]}},1E3)):(clearTimeout(fa[h]),delete fa[h],c=c.filter(function(a){return a!==h}),d=c.sort(function(a,b){return a-b}))})}catch(wa){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function p(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function S(b,c){try{if(!b||!c||0===b.length||0===c.length)return!1;a.each(c,
function(a,c){if(c=1===ea.length?b[0]:b[c])a=k.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,c.rankingStrategy,c.groupType,v.location.href,V,R,da),k.emitNexusMetric(a)})}catch(va){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function W(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;if(a.mediaAsin)return a.mediaAsin}return""}var q,b,x,t,D,L,F,e,m,h,J,T,ba,U,V,ca,R,da,ha,ia,Z,ja=!1,ma=!1,ka="videoThumbnail",Y=null,la=null,
qa,pa=[],ea,ra=[],na=null,oa=n.state("imageBlockStateData"),sa=oa?!oa.shouldRemoveCaption:!0,fa={};return function(d,e,f,g){q=this;b=d;x=e;t=g;J=b.airyConfig;R=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(ha="tablet",da="applicationType.ImageBlock.vse_ib_tablet_web"):n.capabilities.tablet?(ha="tablet",n.capabilities.isAmazonApp&&(da="applicationType.ImageBlock.vse_ib_tablet_app")):
(ha="desktop",da="desktop_web.ImageBlock.vse_ib_iv");q.render=function(d,e,f,g,h,l){null!==Y&&(clearInterval(Y),Y=null,L&&L.parent&&L.parent().css("z-index",-1),F&&F.hide&&F.hide());var p=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){D=a("ul.regularAltImageViewLayout");ba=A(e,d,l);p=[];e=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var k=0;k<e.length;k++){var m=
e[k].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",q=Number(e[k].classList[2].slice(10)),r=a(".thumbItemUnrolled").index(e[k]);p.push({color:d,thumbnailIndex:r,type:m,varient:"MAIN",index:q})}for(k=0;k<p.length;k++)X(d,f,g,h,l,p[k])}else D=g,ba=A(e,d,l),X(d,f,g,h,l,null),d=x.getCurrentItem().color,f=c.getVideoHash(d,0,b),-1!==f&&(d=b.tabletWeb?c.getNilgiriServiceAjaxRequest(b,d,f):{requester:"MediaBlockSoftlines",marketplaceID:f.marketPlaceID,clientPrefix:"mbSoftlines",
locale:f.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:f.url,imageURL:f.slateUrl},product:{contentID:W(b,d),contentIDType:"ASIN"}},P.get(n,"#main-video-container",d,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&C(t);return ba};q.setupIntersectionObserverToWatchVideoThumbnail=z;q.emitMultipleImpressionMetric=
S;c.isImageBlockGridViewHoverDelayEnabled()?q.update=function(a){null!==Y&&(clearInterval(Y),Y=null,L&&L.parent&&L.parent().css("z-index",-1),F&&F.hide&&F.hide());var d=a.data;"ingress"===d.type||"swatchHover"===a.type||c.lazyLoadingRequired(d,x,b)||(x.setToPreviousItem(),"mouseenter"===a.type?(Z&&clearTimeout(Z),Z=setTimeout(function(){x.setToCurrentItem(d);M(null)},c.getHoveringDelayTimer())):"mouseleave"===a.type?Z&&clearTimeout(Z):"click"===a.type&&(x.setToCurrentItem(d),M(null)));if("swatchHover"===
a.type)"ingress"===d.type||c.lazyLoadingRequired(d,x,b)||M(null),d.color===x.getCurrentItem().color?u(x.getCurrentItem(),""):a.captured||c.lazyLoadingRequired(d,x,b)&&!c.lazyLoadOnHoverEnabled(b)&&u(x.getCurrentItem(),"");else if("chromeful-video"===d.type){var e=c.getVideoHash(d.color,d.index,b);"mouseenter"===a.type?(k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ba),e=k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,ca,
V,R,da),k.emitNexusMetric(e),ia&&clearTimeout(ia),ia=setTimeout(function(){u(d,"");!b.usePeekHover&&n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&c.selectGivenThumbnail(a.$declarativeParent,D)},c.getHoveringDelayTimer())):"mouseleave"===a.type?ia&&clearTimeout(ia):"click"===a.type&&(u(d,""),n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(c.selectGivenThumbnail(a.$declarativeParent,D),e=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,
e.groupType,ca,V,R,da),(!c.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==ha)&&k.emitNexusMetric(e),c.useTabbedImmersiveView(b)&&(k.emitNexusMetric(e),k.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ba),T.action="videoIngressClick",T.clickTimeStamp=a.$event.timeStamp,T.$event=a.$event,T.$currentTarget=a.$currentTarget,t.dispatch("videoIngressClick",T),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:q.update=function(a){null!==Y&&(clearInterval(Y),
Y=null,L&&L.parent&&L.parent().css("z-index",-1),F&&F.hide&&F.hide());var d=a.data;"ingress"===d.type||c.lazyLoadingRequired(d,x,b)||M(null);if("swatchHover"===a.type)d.color===x.getCurrentItem().color?u(x.getCurrentItem(),""):a.captured||c.lazyLoadingRequired(d,x,b)&&!c.lazyLoadOnHoverEnabled(b)&&u(x.getCurrentItem(),"");else if("chromeful-video"===d.type){var e=c.getVideoHash(d.color,d.index,b);if("mouseenter"===a.type){k.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+ba);var f=
k.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,ca,V,R,da);k.emitNexusMetric(f)}u(d,"");b.usePeekHover&&"click"!==a.type||!n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(c.selectGivenThumbnail(a.$declarativeParent,D),"click"===a.type&&(e=k.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,e.mediaObjectId,e.rankingStrategy,e.groupType,ca,V,R,da),(!c.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==ha)&&
k.emitNexusMetric(e),c.useTabbedImmersiveView(b)&&(k.emitNexusMetric(e),k.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+ba),T.action="videoIngressClick",T.clickTimeStamp=a.$event.timeStamp,T.$event=a.$event,T.$currentTarget=a.$currentTarget,t.dispatch("videoIngressClick",T),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",N),n.on("notShowVideoCountAjax",K));n.on("vsePlayer-imageblock_tablet",r);n.on("vsePlayer-mbsoftlines",
r)}});"use strict";B.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,a){function c(a,c,P,H,N){function k(a){"click"===a.type&&H.postCountMetric("thumbClick");"click"===a.type&&C.overrideAltImageClickAction?z.dispatch("thumbActionClick",a):z.dispatch("updateSelection",a)}function y(a){C.useClickZoom||z.dispatch("imageClick",a)}function I(a){C.useClickZoom||z.dispatch("imageHover",a)}function E(a){z.dispatch("button360Click",a)}function G(c){!P.isDefined(c)||"swatchClick"!==
c.type&&"updatedData"!==c.type?(g.update(c),"swatchHover"!==c.type&&d.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&H.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",c.data)):(g.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof v.markFeatureRender&&v.markFeatureRender("imageblock",c))}function u(a){z.dispatch("resize",a)}function A(a){P.selectThumbnail(a,w)}function O(){"function"===
typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function Q(){C.interactiveCallJSPEnabled||("function"===typeof v.markFeatureInteractive&&v.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===n.useIV?B.when("a-modal").execute(function(){O()}):O());
C.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],k);a.declarative("thumb-action",["click"],k);a.declarative("main-image-click",["click"],y);a.declarative("main-image-click",["mouseenter","mouseleave"],I);a.declarative("button-360-click",["click"],E);a.on("resize",u)}function l(a){var c=a.data,d;c&&"ingress"!==c.type&&"click"===a.type&&(d=a);return d}function f(a){var c=d.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=c;return f}function r(){var a=
w.find(".item.imageThumbnail");if(!(1>=a.length)){var c=d&&d.getCurrentItem()&&d.getCurrentItem().color;c=(c=C.colorImages&&c&&C.colorImages[c])&&c.length;a.removeClass("overlayRestOfImages");a.length<c&&(a.eq(a.length-1).addClass("overlayRestOfImages"),a=document.createElement("div"),a.className="lastAltImageOverlay",(c=(c=(c=document.getElementsByClassName("overlayRestOfImages")[0])&&c.getElementsByTagName("img"))&&0<c.length&&c[0])&&c.parentNode&&(c.parentNode.insertBefore(a,c),H.postCountMetric("desktopCollapsibleThumbnailShow")))}}
function R(a){P.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&P.updateThumbnailHoverDelay(a.$target)}var g,C,z,d,w;return function(a,k,n){g=this;C=a;z=k;d=n;w=c("#imageBlock #altImages ul");var q=c("#imageBlock .canvas"),b=c("#main-image-container"),p;g.subViews=[];for(k=0;k<N.length;k++)g.subViews.push(new N[k](a,n,g,z));g.render=function(a,k,l,n){var e=0;w.find(".item").remove();a=a||d.getCurrentItem().color;c.each(g.subViews,function(c,d){e=(2===C.unrolledImageBlockTreatment||
3===C.unrolledImageBlockTreatment?d.render(a,e,q,w,b,k,l,n):d.render(a,e,q,w,b,k,l))||e});C.desktopCollapsibleThumbnails&&r();var m=w.find(".a-button-selected").closest(".a-declarative");p=f(m)};g.init=function(){w=c("#imageBlock #altImages ul");var a=w.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=C.landingAsinColor||C.defaultColor;z.dispatch("updateModel",{data:a});g.render(a.color,!0);C.isDebug&&v.console&&console.log(C);z.register("updateView",
G);z.register("selectThumbnail",A);Q()};g.update=function(a){R(a);c.each(g.subViews,function(b,c){c.update(a)});C.usePeekHover&&("mouseleave"===a.type?z.dispatch("updateSelection",p):"click"===a.type&&(p=l(a)||p))}}}a=["A","jQuery","imageBlockUtils","postMetric"].concat(n.views);B.when.apply(B,a).register("ImageBlockView",function(){for(var a=arguments[0],k=arguments[1],n=arguments[2],v=arguments[3],B=[],K=4,y=arguments.length;K<y;K++)B.push(arguments[K]);return c(a,k,n,v,B)})})});
/* ******** */
(function(x){var B=window.AmazonUIPageJS||window.P,ha=B._namespace||B.attributeErrors,h=ha?ha("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):B;h.guardFatal?h.guardFatal(x)(h,window):h.execute(function(){x(h,window)})})(function(x,B,ha){x.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,c,v,n){function ia(d,b){var t=a(d+" image").attr("data");a(d+" image")[0].setAttribute("href",
t);d=new Image;d.src=t;d.onload=function(){b(this.width/this.height)}}function y(d){null!==a(d.euclidSvg)&&(new Promise(function(b,a){ia(d.euclidSvg,b)})).then(function(b){if(null===a(d.featureDiv)||0===a(d.featureDiv).length||0>=b)var t=null;else{var c=a(d.featureDiv).width(),u=a(d.featureDiv).height(),f=2*(16+z(d.euclidHeightText,d.numberSpace)+10),e=c-f,m=a(d.euclidHeightLine).data("euclid-height-startx");0>m?f+=e*Math.abs(m)*2:1<m&&(f+=e*(m-1)*2);e=c-f;0>e&&(f=152);var P=a(d.euclidWidthLine).data("euclid-width-starty"),
h=1<P?u*(P-1)+50:50,p=u-h;if(e/p>b)var k=p*b,q=p,na=p*b+f,fa=u;else k=e,q=e/b,na=c,fa=e/b+h;t={imageWidth:k,imageHeight:q,svgWidth:na,svgHeight:fa}}if("undefined"===typeof t||null===t||10>=t.imageWidth||10>=t.imageHeight||10>=t.svgWidth||10>=t.svgHeight)n.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var M=t,r=d.euclidSvg;a(r+" image").attr("width",M.imageWidth);a(r+" image").attr("height",M.imageHeight);a(r).attr("width",M.svgWidth);a(r).attr("height",M.svgHeight);var E=(M.svgWidth-
M.imageWidth)/2;a(r+" image")[0].setAttribute("x",E);a(r+" image")[0].setAttribute("y",10);var G=M.imageWidth,D=M.imageHeight,l=(M.svgWidth-M.imageWidth)/2,v=a(d.euclidLengthLine).data("euclid-length-startx")*G,y=a(d.euclidLengthLine).data("euclid-length-starty")*D,A=a(d.euclidLengthLine).data("euclid-length-endx")*G,T=a(d.euclidLengthLine).data("euclid-length-endy")*D,aa=a(d.euclidWidthLine).data("euclid-width-startx")*G,w=a(d.euclidWidthLine).data("euclid-width-starty")*D,W=a(d.euclidWidthLine).data("euclid-width-endx")*
G,F=a(d.euclidWidthLine).data("euclid-width-endy")*D,I=a(d.euclidHeightLine).data("euclid-height-startx")*G,ia=a(d.euclidHeightLine).data("euclid-height-starty")*D,Y=a(d.euclidHeightLine).data("euclid-height-endx")*G,J=a(d.euclidHeightLine).data("euclid-height-endy")*D,ca=(F-w)/(W-aa),X=0>=ca?"leftInclined":"rightInclined",ta=1/ca,pa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(ta,2)))),ra=0===pa?16:Math.abs(ta*pa),sa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(ta,2)))),va=0===sa?3:Math.abs(ta*
sa),kb=(T-y)/(A-v),Va=1/kb,qa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Va,2)))),x=0===qa?16:Math.abs(Va*qa),B=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Va,2)))),K=0===B?3:Math.abs(Va*B),U=0>=kb?"leftInclined":"rightInclined";if(.5<a(d.euclidHeightLine).data("euclid-height-startx")){var N=I+l+16,O=ia+10,S=Y+l+16,V=J+10,ea=I+l+16-3,ba=ia+10,ka=I+l+16+3,ma=ia+10,ha=Y+l+16-3,lb=J+10,mb=Y+l+16+3,nb=J+10,ob=(N+S)/2+5,pb=(O+V)/2+8,Da=W+l+pa,Ea=F+ra+10,Fa=aa+l+pa,Ga=w+ra+10,qb=W+l+pa-sa,rb=F+ra-va+
10,sb=W+l+pa+sa,tb=F+ra+va+10,ub=aa+l+pa-sa,vb=w+ra-va+10,wb=aa+l+pa+sa,xb=w+ra+va+10;if("leftInclined"===X){var Wa=(Da+Fa)/2;var Xa=(Ea+Ga)/2+15}else Wa=(Da+Fa)/2+5,Xa=(Ea+Ga)/2;var Ha=v+l-qa,Ia=y+x+10,Ja=A+l-qa,Ka=T+x+10,yb=v+l-qa-B,zb=y+x+K+10,Ab=v+l-qa+B,Bb=y+x-K+10,Cb=A+l-qa-B,Db=T+x+K+10,Eb=A+l-qa+B,Fb=T+x-K+10,Ib=z(d.euclidLengthText,d.numberSpace);if("leftInclined"===U)var Ya=(Ha+Ja)/2,Za=(Ia+Ka)/2+15;else Ya=(Ha+Ja)/2-Ib,Za=(Ia+Ka)/2+15}else{N=I+l-16;O=ia+10;S=Y+l-16;V=J+10;ea=I+l-16-3;ba=
ia+10;ka=I+l-16+3;ma=ia+10;ha=Y+l-16-3;lb=J+10;mb=Y+l-16+3;nb=J+10;var Jb=z(d.euclidHeightText,d.numberSpace);ob=(N+S)/2-Jb-3;pb=(O+V)/2+8;Da=W+l-pa;Ea=F+ra+10;Fa=aa+l-pa;Ga=w+ra+10;qb=W+l-pa-sa;rb=F+ra+va+10;sb=W+l-pa+sa;tb=F+ra-va+10;ub=aa+l-pa-sa;vb=w+ra+va+10;wb=aa+l-pa+sa;xb=w+ra-va+10;var Gb=z(d.euclidWidthText,d.numberSpace);"leftInclined"===X?(Wa=(Da+Fa)/2-Gb,Xa=(Ea+Ga)/2):(Wa=(Da+Fa)/2-Gb,Xa=(Ea+Ga)/2+15);Ha=v+l+qa;Ia=y+x+10;Ja=A+l+qa;Ka=T+x+10;yb=v+l+qa+B;zb=y+x+K+10;Ab=v+l+qa-B;Bb=y+x-
K+10;Cb=A+l+qa+B;Db=T+x+K+10;Eb=A+l+qa-B;Fb=T+x-K+10;"leftInclined"===U?(Ya=(Ha+Ja)/2,Za=(Ia+Ka)/2+15):(Ya=(Ha+Ja)/2+15,Za=(Ia+Ka)/2)}var Kb=Ha;var Lb=Ia;var Mb=Ja;var Nb=Ka;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Eb;var Vb=Fb;var Wb=Ya;var Xb=Za;var Yb=Da;var Zb=Ea;var $b=Fa;var ac=Ga;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=wb;var ic=xb;var jc=Wa;var kc=Xa;var lc=N;var mc=O;var nc=S;var oc=V;var pc=ea;var qc=ba;var rc=ka;var sc=ma;var tc=ha;var uc=
lb;var vc=mb;var wc=nb;var xc=ob;var yc=pb;Q(r+" .hit-pd-euclid-height-line",lc,mc,nc,oc);Q(r+" .hit-pd-euclid-height-start",pc,qc,rc,sc);Q(r+" .hit-pd-euclid-height-end",tc,uc,vc,wc);la(r+" .hit-pd-euclid-height-text",xc,yc);Q(r+" .hit-pd-euclid-width-line",Yb,Zb,$b,ac);Q(r+" .hit-pd-euclid-width-start",bc,cc,dc,ec);Q(r+" .hit-pd-euclid-width-end",fc,gc,hc,ic);la(r+" .hit-pd-euclid-width-text",jc,kc);Q(r+" .hit-pd-euclid-length-line",Kb,Lb,Mb,Nb);Q(r+" .hit-pd-euclid-length-start",Ob,Pb,Qb,Rb);Q(r+
" .hit-pd-euclid-length-end",Sb,Tb,Ub,Vb);la(r+" .hit-pd-euclid-length-text",Wb,Xb);R("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(d===da&&"dimension-ingress-image"===L.getCurrentItem().type?(H(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),n.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-wa)):d===oa&&(a("ivDimensionTab").css("display","block"),g(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),n.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ja)))}});R("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&K(d===da,L.getCurrentItem(),null)}function z(d,b){return a(d).text().replace(/[^0-9]/g,"").length*b+5}function Q(d,b,t,c,u){d=a(d)[0];d!==ha&&null!==d&&(d.setAttribute("x1",b),
d.setAttribute("y1",t),d.setAttribute("x2",c),d.setAttribute("y2",u))}function la(d,b,t){var c=a(d)[0];c!==ha&&null!==c&&(c.setAttribute("x",b),c.setAttribute("y",t),d=a(d+" tspan"),d!==ha&&null!==d&&2===d.length&&(d[0].setAttribute("x",b),d[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),d[1].setAttribute("x",b),d[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function B(d){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){d=
m(d.color);if(null===d)return;if(d in J)R("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&J[d].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(R("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),J[d]=b):N(d)}}y(da)}}
function N(d){try{setTimeout(function(){ma++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in J||(J[d]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&R("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),y(da)):100>
ma&&N(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function R(d){return"true"===a(d).attr("data-should-use-in-hero")}function K(d,b,c){var t=k.colorImages[b.color],u=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");u&&0<u.length?(t=x(t),S(t,d,b,c)):O(t,d,b,c)}function O(d,b,c,C){try{setTimeout(function(){f++;var t=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
t&&0<t.length?(t=x(d),S(t,b,c,C)):100>f?O(d,b,c,C):(n.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),t=d[0],S(t,b,c,C))},100)}catch(u){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+u)}}function x(d){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),c=d[0],f=0;f<d.length;f++){var u=d[f];u.variant===b&&(c=u)}c===d[0]&&n.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return c}function S(d,b,t,f){b?((b=T.find(".item.dimensionItemNo"+t.thumbnailIndex))&&b.remove(),b=t.thumbnailIndex,f=F(d,f),t=T.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),t.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),t.find(".placeHolder").replaceWith(f),t.find(".a-declarative").attr("data-action",
"dimension-hero-click"),T.find(".list").append(t),h.loadImageManually(f),f=b=t,t=M.css("height"),null!==t&&f.find(".imgTagWrapper").css("height",t),f.addClass("selected"),k.imgTagWrapperClasses&&f.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses),P.dispatch("loadMagnifier"),f=b,k.useIV&&c.isDefined(d.hiRes)&&f.css("cursor","pointer"),h.trigger("dp:image-block:update",d)):(U(d),g(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function U(d){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var c=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return V(b,c)}c=a("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var f=a("\x3cimg\x3e");c.html(f);b.append(c);c=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",d.hiRes);return V(b,c)}function V(a,b){a=a.closest("#ivStageDimensions");var d=a.width();a={height:"auto","max-height":a.height(),"max-width":d,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function F(d,b){var f="a-dynamic-image";if(!k.acEnabled){var e;a.each(d.main,function(b,a){c.isDefined(e)||(e=parseFloat(a[1]/a[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=e}var u=c.getMaxDimensionsOfMainImage(d.main,M,k),g=u[0],m=u[1];u=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":m};u.addClass(f).css(g).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return u}function q(){a("#image-canvas-caption #canvasCaption").html(k.dimensionIngressAtfData.initial.heroImageCaption)}
function m(a){var b=k.colorToAsin[a];return b&&b.asin?a=k.colorToAsin[a].asin:a=k.mediaAsin?k.mediaAsin:null}function D(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function H(){null!==a(da.euclidSvg)&&0!==a(da.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
2)):K(da,L.getCurrentItem(),null)}function E(a,b){k.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function I(a){a.action="dimensionIngressClick";a.data=aa;P.dispatch("dimensionIngressClick",a)}function A(){ja=Date.now();if(W&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var d=m(L.getCurrentItem().color);if(null!==d){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;
console.log("checkImmersiveViewContainer",b);d in J?J[d].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),J[d]=b):G(d));v.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,k);v.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));X();W=!1}d=a("#iv-tab-view-container").find("#ivThumbsDimensions");
d.find(".ivRow").not(".placeholder").remove();b=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d);var c=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,f=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(c){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var u=
k.colorImages[L.getCurrentItem().color];u=x(u);U(u);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}e(d,b,u.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}f&&(u=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),e(d,b,u,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}w()}function w(){na=a("#ivDimensionTab").height();if(0!==
na){v.detachImmersiveViewResizeHandler(A);var d=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),c=a("#ivDimensionTab").width();d.css("height",b);d.css("width",c);c=d.find("#ivTitleDimensions").outerHeight(!0);var f=d.find("#ivVariationSelectionDimensions").outerHeight(!0),u=d.find("#ivThumbsDimensions"),e=v.getDimension(u,"margin-top")+v.getDimension(u,"margin-bottom");u.css("height",b-c-f-e);c=d.find("#ivStageDimensions");d=(d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||
d.width())-v.getDimension(d,"padding-left")-v.getDimension(d,"padding-right")-d.find("#ivThumbColumnDimensions").width()-v.getDimension(c,"margin-left")-v.getDimension(c,"margin-right");c.css("width",d);c.css("height",b);y(oa)}}function e(a,b,c,f,e){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:e}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+v.getResizedThumbnailURL(c)+'") center no-repeat');f.hasClass("aok-hidden")||a.addClass("selected");r(a,f)}function r(a,
b){a.click(function(){g(a,b)})}function g(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&V(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function G(d){try{setTimeout(function(){ba++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in J||(J[d]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),w()):100>ba&&G(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+b)}}function Y(d,b){ca&&clearTimeout(ca);"mouseenter"===b.type&&(ca=setTimeout(function(){B(d);a("#image-canvas-caption #canvasCaption").empty();q();E(fa,b)},c.getHoveringDelayTimer()));"mouseleave"===b.type&&q()}var l,k,L,P,fa,T,M,aa,W=!0,wa,ja,ca,
p,J={},ma=0,ba=0,f=0,na,da={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",
euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},oa={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",
euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},X=h.once(function(){v.attachImmersiveViewResizeHandler(A)});h.on.resize(function(){R("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&y(da)});return function(d,b,f,e){l=this;k=d;L=b;P=e;d=k.mediaAsin;b=[];k&&k.dimensionIngressAtfData&&k.dimensionIngressAtfData.initial&&(b=k.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(d,k.dimensionIngressEnabled,
b);l.render=function(b,d,f,e,t,g){fa=e;T=2!==k.unrolledImageBlockTreatment&&3!==k.unrolledImageBlockTreatment?f:a(".unrolledScrollBox");M=t;W=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();ba=ma=0;f=m(L.getCurrentItem().color);if(null!==f){if(c.isDimensionIngressEnabled(f)&&k.dimensionIngressThumbURL&&k.dimensionIngressThumbURL.initial&&
k.dimensionIngressThumbURL.initial.length){f=c.getDimensionVariantList(f);if(f.includes("DIMN")||f.includes("DCMN"))Array.isArray(f)||(f=JSON.parse(f.replace(/(\w+)/g,'"$1"'))),f.push("DIMN"),f.push("DCMN");if(f&&0<f.length){t=k.colorImages[b];g=e.find(".item.imageThumbnail");for(var u=0;u<g.length&&u<k.maxAlts-1;u++){var P=t[u].variant;"MAIN"!=P&&f.includes(P)&&(P=g.eq(u))&&(P.remove(),d--)}}d===k.maxAlts&&(e.find(".item.imageThumbnail").last().remove(),d--);aa={type:"dimension-ingress-image",index:0,
thumbnailIndex:d,variant:"Main"};c.createThumbnail(aa,k.dimensionIngressThumbURL.initial,e,"dimension-ingress-imageblock-thumbnail");e=k.dimensionIngressAtfData.initial.thumbnailCaption;e=a("\x3cspan /\x3e").html(e);e.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");e.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(e);d++;a("#ivDimensionTabHeading").removeClass("aok-hidden");
m(b)!==k.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return d}a("#ivDimensionTabHeading").addClass("aok-hidden")}};l.update=function(b){var d=b.data;L.setCurrentEvent(b);"dimension-ingress-image"===d.type?(d.interaction=b.type,d.isUserGenerated=!0,"mouseenter"===b.type&&(wa=Date.now(),n.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?
Y(d,b):(B(d),a("#image-canvas-caption #canvasCaption").empty(),q(),E(fa,b)),"click"===b.type&&c.useTabbedImmersiveView(k)&&(I(b),n.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?d.color===L.getCurrentItem().color&&"dimension-ingress-image"===L.getCurrentItem().type?H():D():c.isImageBlockGridViewHoverDelayEnabled()?(L.setToPreviousItem(),"mouseenter"===b.type&&(p&&clearTimeout(p),p=setTimeout(function(){L.setToCurrentItem(d);D()},c.getHoveringDelayTimer())),"mouseleave"===
b.type&&p&&clearTimeout(p),"click"===b.type&&(L.setToCurrentItem(d),D())):D()};v.attachTabSelectHandler("ivDimensionTab",A);h.declarative("dimension-hero-click",["click"],I)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,c,v,n){function x(){n.populateTitle(m.find("#ivTitle"),160,F)}function y(){var a=q.getCurrentItem().color;H=F.colorImages[a];D=F.heroImage[a];E=I=0;c.isDefined(D)&&(E=D.length);
c.isDefined(H)&&(I=H.length)}function z(a){return a.hiRes||a.large||a.main[a.main.length-1]}function B(){var a=m.find("#ivStage").find("#ivLargeImage"),c=a.width(),e=a.height(),l=a.find(".fullscreen");l.removeAttr("style");var h=l.width(),k=l.height();0<l.length&&(l[0].naturalWidth&&(h=l[0].naturalWidth),l[0].naturalHeight&&(k=l[0].naturalHeight));a.css("cursor","auto");h=0===h?1:h;k=0===k?1:k;var q=Math.min(c/h,e/k),n=k*q,G=h*q;1>q?(w?a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),g=!0):g=!1;h=Math.min(G,h);k=Math.min(n-20,k);l.css({"margin-top":(e-k)/2,"margin-left":(c-h)/2,height:k,width:h});a.css("visibility","visible");r=!1}function la(a){var c=m.find("#ivLargeImage");c.css("visibility","hidden");c.empty();n.animateStageIn(c);c.append(a);B()}function ea(e){m.find("#ivLargeImage").css("display","none");m.find("#ivLargeImage").css("display","block");var g;"hero-image"===e?c.isDefined(D)&&(g=z(D[A.index])):
c.isDefined(H)&&(g=z(H[A.index]));if(c.isDefined(g)){m.find(".fullscreen").remove();var l=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),k=m.find("#ivLargeImage");n.animateStageOut(k,function(){l.load(function(){la(l);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index)});if(l[0].complete)la(l),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index);else{k.empty();var c=(k.height()-104)/2,e=(k.width()-80)/2;a("\x3cimg\x3e").attr("src",F.staticImages.spinner).css({position:"relative",
top:c+"px",left:e+"px"}).appendTo(k)}})}}function N(a){m.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?A.type="hero-image":A.type="image";A.index=a.attr("id").split("_")[1];ea(A.type);v.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(A.index,10)+1)+"_"+(E+I))}function R(){m.delegate(".ivThumb","click",function(){var c=a(this);N(c)})}function K(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function O(a){var c=Y.top-(a.pageY-k[1])*l;a=K(Y.left-(a.pageX-k[0])*
l,G.left);c=K(c,G.top);m.find(".fullscreen").css({left:a,top:c})}function ka(){m.delegate("#ivLargeImage","click",function(a){if(r)B();else if(g){m.find(".fullscreen").removeAttr("style");if(g){var c=m.find("#ivLargeImage"),e=c.find(".fullscreen");w?c.css("cursor","url('"+F.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));r=!0;var h=m.find("#ivLargeImage");G.left=h.width()-e.width();G.top=h.height()-e.height();h=c.height()/
2;var q=c.width()/2;k=[c.offset().left+q,c.offset().top+h];Y.top=h-e.height()/2;Y.left=q-e.width()/2;e.css({position:"relative",left:Y.left,top:Y.top});l=Math.max(e.height()/c.height(),e.width()/c.width())}O(a);v.postCountMetric("dpcc_iv_largeImageCLick")}});m.delegate("#ivLargeImage","mousemove",function(a){r&&O(a)})}function S(){m.find("#ivLargeImage").empty()}function U(g){if(e){m=a("#ivMain");y();A=q.getCurrentItem();x();n.populateVariationSelection(m.find("#ivVariationSelection"));g=m.find("#ivThumbs");
g.find(".ivRow").not(".placeholder").remove();var l=E+I,h=!1;F&&F.dimensionIngressAtfData&&F.dimensionIngressAtfData.initial&&(h=F.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var k=0,r=0;k<l;)for(var G=g.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(g),v=0;4>v&&k<l;v++,k++,r++)if(r<E){var w=D[k].thumb,z=g.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+k,"data-csa-c-type":"item",
"data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":k+1}).appendTo(G);z.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(w)+'") center no-repeat')}else if(r>=E&&r<I+E){w=F.colorToAsin[q.getCurrentItem().color].asin;w||(w=F.mediaAsin);if((z=c.isDimensionIngressEnabled(w))&&h){if((w=c.getDimensionVariantList(w))&&w.includes(H[k-E].variant)){v--;continue}}else if(z&&"DIMN"===H[k-E].variant){v--;continue}w=H[k-E].thumb;
z=g.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(k-E),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":k-E+1}).appendTo(G);z.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(w)+'") center no-repeat')}L();e=!1}else x();g=a("#ivImagesTab").height();m.css("height",g);l=m.find("#ivTitle").outerHeight(!0);h=m.find("#ivVariationSelection").outerHeight(!0);
k=m.find("#ivThumbs");r=n.getDimension(k,"margin-top")+n.getDimension(k,"margin-bottom");k.css("height",g-l-h-r);m.find("#ivLargeImage").css("height",g);g=m.find("#ivStage");l=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||m.width();g.css("width",l-n.getDimension(m,"padding-left")-n.getDimension(m,"padding-right")-m.find("#ivThumbColumn").width()-n.getDimension(g,"margin-left")-n.getDimension(g,"margin-right"));A=q.getCurrentItem();g="hero-image"===A.type?m.find("#ivHeroImage_"+
A.index):"image"===A.type?m.find("#ivImage_"+A.index):c.isDefined(D)?m.find("#ivHeroImage_"+A.index):m.find("#ivImage_"+A.index);c.isjQueryObjDefined(g)||(g=m.find("#ivImage_0"));N(g)}var V,F,q,m,D,H,E,I,A,w=navigator.userAgent.match(/msie|trident/i),e=!0,r=!1,g=!1,G={},Y={},l,k;e=!0;var L=h.once(function(){R();ka();n.attachImmersiveViewResizeHandler(U);n.attachTabDeselectHandler("ivImagesTab",S)});return function(c,g,k,l){V=this;F=c;q=g;V.render=function(c,g,k,l,h,m){e=!0;y();0===E+I?n.hideTabHeading("ivImagesTabHeading"):
n.unhideTabHeading("ivImagesTabHeading");1===E+I?a("#ivThumbs").hide():a("#ivThumbs").show()};V.update=function(a){};n.attachTabSelectHandler("ivImagesTab",U)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,c,v,n,ia,y){function z(){var c=R.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),m=c.find(".a-popover-inner");c=c.height()-
y.getDimension(m,"padding-top")-y.getDimension(m,"padding-bottom");a("#iv-tab-view-container").css("height",c);ka=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<ka?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),m=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=m):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);h.trigger("dp:image-block:immersive-view:resize")}
function Q(){h.trigger("dp:image-block:immersive-view:reset")}function la(q){if(c.isImmersiveViewEnabled(N,R.getCurrentItem().color))if(U){var m=q.$event.originalEvent;m.acknowledge&&m.acknowledge(q.$currentTarget[0]);n.isEnabled&&ia.logImmersiveViewRequestServed(n);v.postCountMetric("dppc_immersiveViewOpened");c.isDefined(q)&&("button-360-click"===q.action?a("#iv360TabHeading").click():"videoIngressClick"===q.action?(S=q.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===q.action?
(S=q.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===q.action?(S=q.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());m=R.getImmersiveViewModalInstance();if(c.isDefined(m))m.show();else{q=a("#auiImmersiveViewDiv");m=Math.min(Math.max(a(B).height()-150,540),1080);var D=Math.min(Math.max(a(B).width()-75,990),1980);m=U.create(q,{name:"immersiveView",activate:"onclick",width:D,height:m,popoverLabel:"ImmersiveView",hideHeader:!0});R.setImmersiveViewModalInstance(m);
q.click()}O&&(O=!1,V(),h.trigger("dp:image-block:immersive-view:init"))}else B.performance&&performance.now&&B.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else v.postCountMetric("immersiveViewNotExistsClickCount")}var ea,N,R,K,O=!0,ka=0,S,U;x.when("a-modal").execute(function(a){U=a});var V=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",z);h.on("a:popover:afterShow:immersiveView",z);h.on("a:popover:afterHide:immersiveView",
Q)}),F=h.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(m){var n=c.filter(".iv-active");n.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+n.find("a").attr("data-iv-tab-view")+":deselect",m);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();n=a(this).find("a").attr("data-iv-tab-view");a("#"+n).show();"ivVideosTab"===n&&(m.clickTimeStamp=S||m.timeStamp);h.trigger("dp:ivTabs:"+n+":select",
m);v.postCountMetric("dppc_"+n);return!1})});return function(a,m,y,z){ea=this;N=a;R=m;n.refToModel=R;K=z;ea.render=function(a,c,h,m,e,r){v.postCountMetric("dpcc_altThumbs_"+c);O=!0};ea.update=function(a){};ea.getTitle=function(){};ea.getVariationSelectionInfo=function(){};F();c.isImmersiveViewEnabled(N,R.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");K.register("imageClick",la);K.register("button360Click",la);(N.collapsibleThumbnails||N.desktopCollapsibleThumbnails)&&h.declarative("thumb-action",
["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(la(a),v.postCountMetric("collapsibleThumbnailImmersiveViewClick"))});c.useTabbedImmersiveView(N)&&(K.register("videoIngressClick",la),K.register("showroomIngressClick",la),K.register("dimensionIngressClick",la))}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,
c,v,n,ia,y,z){function Q(a){return a.hiRes||a.large||a.main[a.main.length-1]}function la(){f.find("#ivTitle").click(function(){ba.hide()})}function ea(){C=ib?{type:"360-spin"}:J.getCurrentItem()}function N(){var a=f.find("#ivStage"),b=ba.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-z.getDimension(c,"padding-top")-z.getDimension(c,"padding-bottom");f.css("height",b);c=f.find("#ivTitle").outerHeight(!0);var d=f.find("#ivVariationSelection").outerHeight(!0),e=f.find("#ivMediaSelection").outerHeight(!0),
g=f.find("#ivThumbs"),k=z.getDimension(g,"margin-top")+z.getDimension(g,"margin-bottom");g.css("height",b-c-d-e-k);f.find("#ivLargeImage").css("height",b);a.css("width",f.width()-z.getDimension(f,"padding-left")-z.getDimension(f,"padding-right")-f.find("#ivThumbColumn").width()-z.getDimension(a,"margin-left")-z.getDimension(a,"margin-right"))}function R(){f.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(f.find("#ivVideoList").hide(),f.find("#ivThumbs").show(),f.find(".ivThumbVideo").show(),
"chromeful-video"===C.type&&f.find("#ivVideo_"+C.index).click()):"images"===b?(f.find("#ivVideoList").hide(),f.find("#ivThumbs").show(),f.find(".ivThumbVideo").hide(),"chromeful-video"===C.type&&(0===d&&0===X?f.find("#iv360").click():0===d?f.find("#ivHeroImage_0").click():f.find("#ivImage_0").click())):"videos"===b&&(f.find("#ivVideoList").show(),f.find("#ivThumbs").hide(),"chromeful-video"!==C.type?f.find("#ivVideoList_0").click():f.find("#ivVideoList_"+C.index).click())})}function K(){var a=f.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),g=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(g=d[0].naturalHeight));a.css("cursor","auto");e=0===e?1:e;g=0===g?1:g;var k=Math.min(b/e,c/g),l=g*k,h=e*k;1>k?(jb?a.css("cursor","url('"+p.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Ra=!0):Ra=!1;e=Math.min(h,e);g=Math.min(l-20,g);d.css({"margin-top":(c-
g)/2,"margin-left":(b-e)/2,height:g,width:e});a.css("visibility","visible");Qa=!1}function O(a){var b=f.find("#ivLargeImage");b.css("visibility","hidden");b.empty();z.animateStageIn(b);b.append(a);K()}function ka(){u&&u.pause();f.find("#ivLarge360").css("display","none");f.find("#ivLargeVideo").css("display","none");f.find("#ivLargeImage").css("display","none");D()}function S(b){ka();f.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?c.isDefined(na)&&(d=Q(na[C.index])):c.isDefined(da)&&
(d=Q(da[C.index]));if(c.isDefined(d)){f.find(".fullscreen").remove();var ta=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),e=f.find("#ivLargeImage");z.animateStageOut(e,function(){ta.load(function(){O(ta)});if(ta[0].complete)O(ta);else{e.empty();var b=(e.height()-104)/2,c=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",p.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(e)}})}}function U(){var a=parseInt(C.index,10)+1;a>=oa.length||f.find("#ivVideo_"+a).click()}
function V(){var a;c.isDefined(oa)&&(a=oa[C.index]);if(c.isDefined(a)){ka();var b=f.find("#ivLargeVideo").css("display","block");u?(u.isDetached()&&u.attach(b[0]),c.loadMediaIntoAiry(u,a,La,p.tabletWeb),u.show()):(u=c.createAiryInstanceForChromeful(b,a,La,"ImmersiveView"),La.enableContinuousPlay&&u.bind("ended",U));u.play({isAsync:!0})}}function F(){ea();var a="hero-image"===C.type?f.find("#ivHeroImage_"+C.index):"image"===C.type?f.find("#ivImage_"+C.index):"chromeful-video"===C.type||"chromeless-video"===
C.type?f.find("#ivVideo_"+C.index):"360-spin"===C.type?f.find("#iv360"):c.isDefined(na)?f.find("#ivHeroImage_"+C.index):f.find("#ivImage_"+C.index);c.isjQueryObjDefined(a)||(a=f.find("#ivImage_0"));q(a)}function q(a){f.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(C.type="chromeful-video",C.index=a.attr("id").split("_")[1],V()):a.hasClass("ivHeroImage")?(C.type="hero-image",C.index=a.attr("id").split("_")[1],S(C.type)):a.hasClass("iv360Image")?(C.type=
"360-spin",C.index=0,m()):(C.type="image",C.index=a.attr("id").split("_")[1],S(C.type))}function m(){ka();f.find("#ivLarge360").css("display","block");w();var a=f.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});z.animateStageIn(a)},200);E();n.postCountMetric("dppc_click360");Ca=Date.now()}function D(){0<Ca&&(H("dppc_duration360",Date.now()-Ca),Ca=0)}function H(a,b){B.ue&&B.ue.count(a,b)}function E(){if(0<xa){var a=f.find(".iv360Hint");a.removeClass("iv360HintFaded");
a.animate({opacity:1},200)}}function I(b,c){if(xa<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*ua+"px",height:za+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(xa++,1===xa&&(E(),0<Ca&&H("dppc_loadTime360",Date.now()-Ca)),0<db&&H("dppc_perSpriteloadTime360",Date.now()-db),f.find("#iv360Spinner").hide(),d.show(),Na=5*Z.imageLocations[Math.floor(Ma/Z.imageLocations[0].length)][Ma%Z.imageLocations[0].length],I(b,c))};d.attr("src",
b[xa].replace(/(\._SP)\d+(,)\d+/,"$1"+Ba+"$2"+Aa));db=Date.now()}}function A(a){if(c.isDefined(Z.spriteWidthSizes)&&0<Z.spriteWidthSizes.length){var b=Z.spriteWidthSizes,d=b.length,e=b[0],f=b[d-1];if(a<=e)return e;if(a>f)return f;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function w(){var b=f.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",p.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),bb=!0,e())}function e(){if(c.isDefined(Z.spriteURLs)&&c.isDefined(f)&&bb&&!cb){var b=f.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(Z.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Z.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(p.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=Z.imageWidth;var e=Z.imageHeight,h=b.parent().width(),t=b.parent().height(),m=0,u=0;d/e>h/t?(Ba=A(h),Aa=Math.round(e/d*Ba),ua=Math.ceil(h),za=Math.ceil(Aa/Ba*h),u=(t-za)/2):(Aa=
A(t),Ba=Math.round(d/e*Aa),za=Math.ceil(t),ua=Math.ceil(Ba/Aa*t),m=(h-ua)/2);b.css({"margin-left":m,"margin-top":u,width:ua+"px",height:za+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ua+"px");I(Z.spriteURLs,f.find("#image-360-sprites"),0);d=f.find("#ivLarge360");d.bind("mousedown",Y);d.bind("touchstart",r);d.bind("touchmove",g);d.bind("touchend",G);a(document).bind("mousemove",l);a(document).bind("mouseup",k);c.isDefined(p.staticImages.grab)&&b.css("cursor",
"url('"+p.staticImages.grab+"'), auto");cb=!0}}function r(a){Pa=!0;ab=a.originalEvent.targetTouches[0].clientX}function g(a){Pa&&(L(a.originalEvent.targetTouches[0].clientX-ab),ab=a.originalEvent.targetTouches[0].clientX)}function G(a){Pa&&(Pa=!1)}function Y(a){Oa=!0;$a=a.originalEvent.clientX;c.isDefined(p.staticImages.grabbing)&&(a=f.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+p.staticImages.grabbing+"'), auto"));
return!1}function l(a){Oa&&(L(a.originalEvent.clientX-$a),$a=a.originalEvent.clientX)}function k(a){Oa&&(Oa=!1,c.isDefined(p.staticImages.grab)&&(a=f.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function L(a){for(a=Na-=a/ua*180;0>a;)a+=360;for(;360<a;)a-=360;Na=a;a=360;for(var b=0;b<xa;b++)for(var d=0;d<Z.imageLocations[b].length;d++){var e=Math.abs(Na-5*Z.imageLocations[b][d]);if(e<a){a=e;var g=b*Z.imageLocations[0].length+
d}}g!==Ma&&(a=Math.floor(g/Z.imageLocations[0].length),a!==Math.floor(Ma/Z.imageLocations[0].length)&&(c.isDefined(eb)||(eb=document.createElement("canvas").getContext("2d")),b=f.find("#image-360-sprites").children(),eb.drawImage(b[a],0,0)),a=f.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Ma=g;a=g%Z.imageLocations[0].length*-1*ua;g=-1*Math.floor(g/Z.imageLocations[0].length)*za;b=f.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+a+"px, "+g+"px, 0)");b.css("transform","translate3d("+a+"px, "+g+"px, 0)")}function P(){f.delegate(".ivThumb","click",function(){var b=a(this);q(b)});f.delegate(".ivThumbVideoListOuter","click",function(){f.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");C.type="chromeful-video";C.index=b.attr("id").split("_")[1];V()})}function fa(){u&&!u.isDetached()&&(La.volume=u.getVolume(),u.detach(),!document.all||B.atob||document.addEventListener||
(u=null));f.find("#ivLargeImage").empty();D()}function T(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function M(b){var d=ya.left-(b.pageX-Ua[0])*Ta;h.capabilities.rtl&&(d=ya.left-(a(B).width()-b.pageX-Ua[0])*Ta);b=ya.top-(b.pageY-Ua[1])*Ta;d=T(d,Sa.left);b=T(b,Sa.top);f.find(".fullscreen").css({left:d,top:b})}function aa(){f.delegate("#ivLargeImage","click",function(a){if(Qa)K();else if(Ra){f.find(".fullscreen").removeAttr("style");if(Ra){var b=f.find("#ivLargeImage"),d=b.find(".fullscreen");jb?
b.css("cursor","url('"+p.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Qa=!0;var c=f.find("#ivLargeImage");Sa.left=c.width()-d.width();Sa.top=c.height()-d.height();c=b.height()/2;var e=b.width()/2;Ua=[b.offset().left+e,b.offset().top+c];ya.top=c-d.height()/2;ya.left=e-d.width()/2;d.css({position:"relative",left:ya.left,top:ya.top});Ta=Math.max(d.height()/b.height(),d.width()/b.width())}M(a)}});f.delegate("#ivLargeImage",
"mousemove",function(a){Qa&&M(a)})}function W(e){if(c.isImmersiveViewEnabled(p,J.getCurrentItem().color))if(gb){var g=e.$event.originalEvent;g.acknowledge&&g.acknowledge(e.$currentTarget[0]);ib=c.isDefined(e)&&"button-360-click"===e.action;ia.isEnabled&&y.logImmersiveViewRequestServed(ia);n.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(ba))ba.show();else{e=a("#auiImmersiveViewDiv");g=a(B).height()-150;var k=a(B).width()-75;ba=gb.create(e,{name:"immersiveView",activate:"onclick",width:k,
height:g,popoverLabel:"ImmersiveView",hideHeader:!0});e.click()}if(fb){f=a("#ivMain");e=J.getCurrentItem().color;da=p.colorImages[e];na=p.heroImage[e];oa=p.useChildVideos?p.colorToVideo[e]:p.videos;hb=ja()&&p.spin360ColorEnabled[e];Z=ja()?p.spin360ColorData[e]:ha;ea();t=X=b=d=0;c.isDefined(na)&&(X=na.length);c.isDefined(da)&&(d=da.length);c.isDefined(oa)&&(b=oa.length);hb&&(t=1);z.populateTitle(f.find("#ivTitle"),45,p);z.populateVariationSelection(f.find("#ivVariationSelection"));e=f.find("#ivMediaSelect");
0===d+t||0===b?(e.parent().hide(),f.find("#ivThumbs").addClass("noMediaSelection")):(e.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(p.staticStrings.allMedia+" ("+(X+d+t+b)+")").appendTo(e),a("\x3coption/\x3e").attr("value","images").text(p.staticStrings.images+" ("+(X+d+t)+")").appendTo(e),a("\x3coption/\x3e").attr("value","videos").text(p.staticStrings.videos+" ("+b+")").appendTo(e),e.parent().show(),e.val("all"));e=f.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();
g=X+d+b+t;for(var l=k=0;k<g;)for(var m=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),u=0;3>u&&k<g;u++,k++,l++)if(l<X){var r=na[k].thumb,C=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+k).appendTo(m);C.find(".ivThumbImage").css("background",'url("'+z.getResizedThumbnailURL(r)+'") center no-repeat')}else if(l>=X&&l<d+X)r=da[k-X].thumb,C=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(k-X)).appendTo(m),C.find(".ivThumbImage").css("background",'url("'+z.getResizedThumbnailURL(r)+'") center no-repeat');else if(l>=X+d&&l<d+X+t)C=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(m),C.find(".ivThumbImage").css("background",'url("'+(c.isDefined(p.staticImages.icon360)?z.getResizedThumbnailURL(p.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=oa[k-d-X-t],C=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(k-d-X-t)).appendTo(m),C.find(".ivThumbImage").css("background",'url("'+r.thumbUrl+'") center no-repeat'),c.isDefined(r)){var q={position:"triggerTop"},G=f.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");G.find(".ivVideoPopoverTitle").text(r.title);G.find(".ivVideoPopoverDuration").text(r.durationTimestamp);q.inlineContent=G[0];h.declarative.create(C,"a-tooltip",q)}e=f.find("#ivVideoList");e.find(".ivThumbVideoListOuter").not(".placeholder").remove();
g=e.find(".placeholder");for(k=0;k<b;k++)l=oa[k],m=g.clone().removeClass("placeholder").appendTo(e),m.attr("id","ivVideoList_"+k),m.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),m.find(".ivThumbTitle").text(l.title),m.find(".ivThumbDuration").text(l.durationTimestamp);f.find("#ivLarge360").empty();xa=0;cb=bb=!1;La=p.airyConfig;fb=!1;Hb()}}else B.performance&&performance.now&&B.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else n.postCountMetric("immersiveViewNotExistsClickCount")}function wa(a){var b=p.colorToAsin[a],d={},g=500;if(b&&b.asin){d.params={asin:b.asin};var f="360"+b.asin,k=Date.now();d.success=function(b){H("dppc_asyncRequestTime360",Date.now()-k);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(f,"success"),p.spin360ColorData[a]=b.spin360.spin360Model,a===J.getCurrentItem().color&&(Z=p.spin360ColorData[a],e())):d.error()};d.error=function(){n.postCountMetric("dppc_asyncFailed360");H("dppc_asyncRequestTime360",
Date.now()-k);g*=2;16E3>=g?setTimeout(function(){k=Date.now();v.load("/gp/product/features/apparel-main-image/360.html",d)},g):c.ajaxState(f,"fail")};c.ajaxState(f)&&"fail"!==c.ajaxState(f)||(v.load("/gp/product/features/apparel-main-image/360.html",d),c.ajaxState(f,"sent"))}}function ja(){return c.isDefined(p.spin360ConfigEnabled)&&p.spin360ConfigEnabled}var ca,p,J,ma,ba,f,na,da,oa,X,d,b,t,C,u,La,Z,hb,ua,za,Aa,Ba,$a,ab,ib=!1,bb=!1,cb=!1,Na=0,Ma=0,Ca=0,db=0,Oa=!1,Pa=!1,xa=0,eb,jb=navigator.userAgent.match(/msie|trident/i),
fb=!0,Qa=!1,Ra=!1,Sa={},ya={},Ta,Ua,gb;x.when("a-modal").execute(function(a){gb=a});var Hb=h.once(function(){R();P();aa();h.on("a:popover:afterUpdatePosition:immersiveView",N);h.on("a:popover:afterShow:immersiveView",F);h.on("a:popover:afterHide:immersiveView",fa);la()});return function(b,d,e,g){ca=this;p=b;J=d;ia.refToModel=J;ma=g;ja()&&(p.spin360ColorData[p.landingAsinColor]=p.spin360ColorData[p.defaultColor],p.spin360ColorEnabled[p.landingAsinColor]=p.spin360ColorEnabled[p.defaultColor]);c.isDefined(p.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",z.addStyleCodeToURL(p.staticImages.icon360,"_FMpng_RI_"));ca.render=function(a,b,d,e,g,f){fb=!0;ja()&&p.spin360ColorEnabled[a]&&!c.isDefined(p.spin360ColorData[a])&&(p.spin360ColorData[a]={},wa(a));c.isImmersiveViewEnabled(p,J.getCurrentItem().color)&&ja()&&p.spin360ColorEnabled[a]&&(b===p.maxAlts&&(a=e.find(".item.imageThumbnail"),d=e.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),
b--),a=e.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(a,"button-360-click"),e.append(a),b++,n.postCountMetric("dppc_display360"));return b};ca.update=function(a){};c.isImmersiveViewEnabled(p,J.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");ma.register("imageClick",W);ma.register("button360Click",W)}});"use strict";x.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(h,a,c,v,n,x,y,z,B){function Q(){var b=a("#iv360Tab").height();l.css("height",b);var d=l.find("#ivTitle360").outerHeight(!0),c=l.find("#ivVariationSelection360").outerHeight(!0),e=l.find("#ivThumbs360"),g=y.getDimension(e,"margin-top")+y.getDimension(e,"margin-bottom");e.css("height",b-d-c-g);b=l.find("#ivStage360");d=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||
l.width();b.css("width",d-y.getDimension(l,"padding-left")-y.getDimension(l,"padding-right")-l.find("#ivThumbColumn360").width()-y.getDimension(b,"margin-left")-y.getDimension(b,"margin-right"))}function ia(){O();var a=l.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});y.animateStageIn(a)},200);N()}function N(){if(0<f){var a=l.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function R(b,d){if(f<b.length){var c=a("\x3cimg /\x3e").css({display:"block",
width:6*L+"px",height:P+"px"});c.hide();d.append(c);c.get(0).onload=function(){d.closest(document.documentElement).length&&(f++,1===f&&(N(),0<p&&(n.time("dppc_loadTime360",Date.now()-p,g.mediaAsin),x.postTimeMetric("dppc_loadTime360",Date.now()-p))),0<J&&(n.time("dppc_perSpriteloadTime360",Date.now()-J,g.mediaAsin),x.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-J)),l.find("#iv360Spinner").hide(),c.show(),ja=5*k.imageLocations[Math.floor(ca/k.imageLocations[0].length)][ca%k.imageLocations[0].length],
R(b,d))};c.attr("src",b[f].replace(/(\._SP)\d+(,)\d+/,"$1"+T+"$2"+fa));J=Date.now()}}function K(a){if(c.isDefined(k.spriteWidthSizes)&&0<k.spriteWidthSizes.length){var b=k.spriteWidthSizes,d=b.length,e=b[0],g=b[d-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function O(){var b=l.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",g.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),W=!0,ka())}function ka(){if(c.isDefined(k.spriteURLs)&&c.isDefined(l)&&W&&!wa){var b=l.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(k.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",k.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(g.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=k.imageWidth;var e=k.imageHeight,f=b.parent().width(),h=b.parent().height(),r=0,n=0;d/e>f/h?(T=K(f),fa=Math.round(e/d*T),L=Math.ceil(f),P=Math.ceil(fa/T*f),n=(h-P)/2):(fa=K(h),T=
Math.round(d/e*fa),P=Math.ceil(h),L=Math.ceil(T/fa*h),r=(f-L)/2);b.css({"margin-left":r,"margin-top":n,width:L+"px",height:P+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*L+"px");R(k.spriteURLs,l.find("#image-360-sprites"),0);d=l.find("#ivLarge360");d.bind("mousedown",F);d.bind("touchstart",S);d.bind("touchmove",U);d.bind("touchend",V);a(document).bind("mousemove",q);a(document).bind("mouseup",m);c.isDefined(g.staticImages.grab)&&b.css("cursor","url('"+
g.staticImages.grab+"'), auto");wa=!0}}function S(a){ba=!0;aa=a.originalEvent.targetTouches[0].clientX}function U(a){ba&&(D(a.originalEvent.targetTouches[0].clientX-aa),aa=a.originalEvent.targetTouches[0].clientX)}function V(a){ba&&(ba=!1)}function F(a){ma=!0;M=a.originalEvent.clientX;c.isDefined(g.staticImages.grabbing)&&(a=l.find("#ivLarge360"),a.css("cursor","url('"+g.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+g.staticImages.grabbing+"'), auto"));
return!1}function q(a){ma&&(D(a.originalEvent.clientX-M),M=a.originalEvent.clientX)}function m(a){ma&&(ma=!1,c.isDefined(g.staticImages.grab)&&(a=l.find("#ivLarge360"),a.css("cursor","url('"+g.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function D(a){ja-=a/L*180;da&&(n.count("dppc_360dragToSpin",g.mediaAsin),x.postCountMetric("dppc_360dragToSpin"));da=!1;for(a=ja;0>a;)a+=360;for(;360<a;)a-=360;ja=a;a=360;for(var b=0;b<f;b++)for(var d=0;d<k.imageLocations[b].length;d++){var e=
Math.abs(ja-5*k.imageLocations[b][d]);if(e<a){a=e;var h=b*k.imageLocations[0].length+d}}h!==ca&&(a=Math.floor(h/k.imageLocations[0].length),a!==Math.floor(ca/k.imageLocations[0].length)&&(c.isDefined(na)||(na=document.createElement("canvas").getContext("2d")),b=l.find("#image-360-sprites").children(),na.drawImage(b[a],0,0)),a=l.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ca=h;a=h%k.imageLocations[0].length*-1*L;h=-1*Math.floor(h/
k.imageLocations[0].length)*P;b=l.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function H(){if(X){l=a("#ivMain360");var b=G.getCurrentItem().color;I()&&A(b);k=I()?g.spin360ColorData[b]:ha;y.populateTitle(l.find("#ivTitle360"),160,g);y.populateVariationSelection(l.find("#ivVariationSelection360"));l.find("#ivLarge360").empty();f=0;wa=W=!1;ca=ja=0;d();X=!1}0!==a("#iv360Tab").height()&&
(y.detachImmersiveViewResizeHandler(H),Q(),ia(),p=Date.now(),oa=da=!0,n.count("dppc_click360",g.mediaAsin),x.postCountMetric("dppc_click360"))}function E(a,d,e){a=g.colorToAsin[e];var b={},f=500;if(!a||!a.asin)if(e===g.defaultColor)a={asin:g.winningAsin};else return;b.params={asin:a.asin};var k="360"+a.asin,h=Date.now();b.success=function(a){n.time("dppc_asyncRequestTime360",Date.now()-h,g.mediaAsin);x.postTimeMetric("dppc_asyncRequestTime360",Date.now()-h);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&
z.setData(a),c.ajaxState(k,"success")):b.error()};b.error=function(){n.count("dppc_asyncFailedTransient360",g.mediaAsin);x.postCountMetric("dppc_asyncFailedTransient360");n.time("dppc_asyncRequestTime360",Date.now()-h,g.mediaAsin);x.postTimeMetric("dppc_asyncRequestTime360",Date.now()-h);f*=2;16E3>=f?setTimeout(function(){h=Date.now();v.load("/gp/product/features/apparel-main-image/360.html",b)},f):(n.count("dppc_asyncFailed360",g.mediaAsin),x.postCountMetric("dppc_asyncFailed360"),c.ajaxState(k,
"fail"))};c.ajaxState(k)&&"fail"!==c.ajaxState(k)||(v.load("/gp/product/features/apparel-main-image/360.html",b),c.ajaxState(k,"sent"))}function I(){return g&&c.isDefined(g.spin360ConfigEnabled)&&g.spin360ConfigEnabled}function A(a){return c.isDefinedAndNotEmpty(g.spin360ColorData[a])?!0:c.isDefined(g.spin360LazyLoadEnabled)&&g.spin360LazyLoadEnabled}function w(){oa&&(n.time("dppc_duration360",Date.now()-p,g.mediaAsin),x.postTimeMetric("dppc_duration360",Date.now()-p),oa=!1)}function e(a){a=g.colorToAsin[a.color]&&
g.colorToAsin[a.color].asin;a||(a=g.mediaAsin);return a}var r,g,G,Y,l,k,L,P,fa,T,M,aa,W=!1,wa=!1,ja=0,ca=0,p=0,J=0,ma=!1,ba=!1,f=0,na,da=!0,oa=!1,X=!0,d=h.once(function(){y.attachImmersiveViewResizeHandler(H);y.attachImmersiveViewResizeHandler(Q);y.attachImmersiveViewResetHandler(w);y.attachTabDeselectHandler("iv360Tab",w)});return function(b,d,f,l){r=this;g=b;G=d;Y=l;b=g.landingAsinColor;d=g.defaultColor;c.isDefined(g.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
y.addStyleCodeToURL(g.staticImages.icon360,"_FMpng_RI_"));I()&&(g.spin360ColorData||(g.spin360ColorData={}),b===d&&c.isDefinedAndEmpty(g.spin360ColorData[d])&&delete g.spin360ColorData[d]);h.on(B.TWISTER_DATA_EVENT,function(a){e(G.getCurrentItem())===a&&(k=z.getData(a),ka(),a={type:"updatedData",data:G.getCurrentItem()},Y.dispatch("updateView",a))});r.render=function(b,d,f,k,l,m){X=!0;!I()||c.isDefinedAndEmpty(g.spin360ColorData[b])&&!z.getData(e(G.getCurrentItem()))?y.hideTabHeading("iv360TabHeading"):
(g.spin360ColorData[b]=z.getData(e(G.getCurrentItem())),c.isDefinedAndNotEmpty(g.spin360ColorData[b])?(a("#ivThumbs360").hide(),y.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(g,G.getCurrentItem().color)&&I()&&A(b)&&(d===g.maxAlts&&(b=k.find(".item.imageThumbnail"),f=k.find(".item.videoThumbnail"),c.isDefined(f)&&1<f.length?f.last().remove():b.last().remove(),d--),b=k.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(b,
"button-360-click"),k.append(b),n.count("dppc_display360",g.mediaAsin),x.postCountMetric("dppc_display360"))):c.isDefined(g.spin360LazyLoadEnabled)&&g.spin360LazyLoadEnabled?(g.spin360ColorData[b]={},y.hideTabHeading("iv360TabHeading"),E(k,d,b)):y.hideTabHeading("iv360TabHeading"))};r.update=function(a){};y.attachTabSelectHandler("iv360Tab",H)}});x.register("nexusLogger360",function(){return{count:function(h,a){B.ue&&B.ue.event({asin:a,metricName:h,metricValue:1},"hit-360","hit360.clientEvent.3")},
time:function(h,a,c){B.ue&&B.ue.event({asin:c,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});x.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});x.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(h,a){var c={};return{setData:function(v){var n=v.asin;c[n]||(c[n]=v,h.trigger(a.TWISTER_DATA_EVENT,n))},getData:function(a){return c[a]}}});"use strict";x.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(h){function a(){this.render=function(){};this.update=function(){}}return function(c,v,n,B){var y=!1,z=new a;x.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ha&&(y=!0,z=new a(c,v,n,B))});c&&!0===c.showroomEnabled&&!1===y&&h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return z}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",
function(h,a,c,v,n,x,y){function z(){E.delegate(".ivThumb","click",function(){var c=a(this);E.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(I.type="chromeful-video",I.index=c.attr("id").split("_")[1])})}function Q(){if(W){var c=a("#ivVideosTab").height();E.css("height",c);var e=E.find(".vse-lb-container");A=c-n.getDimension(e,"padding-top")-n.getDimension(e,"padding-bottom");e.css({"max-height":c,overflow:"hidden"});if(fa){E.css({"max-width":Math.floor(1.77*
A)});return}c=E.find(".vse-player-container");e=E.find(".vse-video-action-strip");var f=E.find(".vse-lb-video-metadata"),g=Math.floor(A-n.getDimension(f,"height")-n.getDimension(e,"height")),d=Math.floor(1.77*g);c.css({"max-height":g,"max-width":d,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":d,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":d,marginLeft:"auto",marginRight:"auto"})}T&&(c=E.find(".vse-vertical-scroll"),e=n.getDimension(c,"margin-top")+n.getDimension(c,"margin-bottom"),
c.css("max-height",A-e))}function ia(){ea();w&&w.pause();M=!1;L=!0;G=null;aa=!0;W=!1}function ea(){M=!1;w&&w.pause()}function N(e){G=e.clickTimeStamp?e.clickTimeStamp:h.now();c.isDefined(H)&&(H.eventTimestamp=G);M=!0;P&&(y.get(h,"#ivVideoBlock",D,ba,f),E=a("#ivVideoBlock"),m.getCurrentItem(),I=m.getCurrentItem(),p(),U());Q();P=!1;O()}function R(c){P&&(E=a("#ivVideoBlock"),m.getCurrentItem(),I=m.getCurrentItem(),p());M&&O();Q()}function K(a){w=a.player;v.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
h.now()-ca);q.imageBlockRenderingStartTime&&v.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-q.imageBlockRenderingStartTime);W&&(U(),O())}function O(){if(w&&M&&(E.find(".vse-lb-container").animate({opacity:1},200),w.play(H),v.postCountMetric("dpcc_vse_videoBlock_video_played"),L)){var a=B.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,v.postTimeMetric("dpcc_vse_vitff",a),L=!1)}}function ka(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function S(a){e=
a.popover.$popover;W=!0;U()}function U(){if(W&&aa&&M&&w){e.addClass(h.$(e).find(".vse-lb-container").data("cssClass"));var a=H;ha&&(a=ja,ha=!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});Q();aa=!1}}function V(a){document.getElementsByClassName("videoBlockIngress")[0].click();ja=a;ha=!0}var F,q,m,D,H,E,I,A,w,e,r,g,G,Y,l,k,L=!0,P=!0,fa=!1,T=!1,M=!1,aa=!0,W=!1,ha=!1,ja,ca=0,p=h.once(function(){z();n.attachImmersiveViewResizeHandler(R);n.attachTabDeselectHandler("ivVideosTab",
ea);n.attachImmersiveViewResetHandler(ia)}),J=function(e,f,g){a("#ivVideoBlockSpinner").addClass("aok-hidden");v.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);e=m.getCurrentItem().color;e=c.getVideoHash(e,0,q);w||(w=c.createAiryInstanceForChromeful(a("#ivVideoBlock"),e,q.airyConfig,"ImmersiveView"));fa=!0;a("#ivVideoBlock").css({"max-width":1.77*A,margin:"0 auto"});M&&fa&&w.play({isAsync:!0})},ma=function(c,e,g){P||y.get(c,"#ivVideoBlock",D,ba,f);a("#ivVideoBlockSpinner").addClass("aok-hidden")},
ba=function(a,c,e){T=!0;Q()},f=function(a,c,e){v.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(a,e,f,p){F=this;q=a;m=e;F.render=function(a,b,e,f,p,v){a=m.getCurrentItem().color;b=c.getVideoHash(a,0,q);!0===v?r=q.mediaAsin:(r=q.colorToAsin[a]&&q.colorToAsin[a].asin,r=c.isDefined(r)?r:q.mediaAsin);g=!0===q.useVSEVideos?"VIDEO_ID":"physicalID";Y=q.contentWeblab;l=q.contentWeblabTreatment;k=q.parentAsin||"";P=!0;-1===b?n.hideTabHeading("ivVideosTabHeading"):
(n.unhideTabHeading("ivVideosTabHeading"),D={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:r,contentIDType:"ASIN",parentContentID:k,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:g,videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:q.dpRequestId,weblabContext:[{name:Y,assignment:l,ignoreForG2S2Key:!0}],metadata:{ProductTitle:q.title}},H={videoUrl:D.video.videoURL,
contentId:D.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(G)?G:h.now(),imageUrl:D.video.imageURL,productAsin:D.product.contentID,rankingStrategy:D.video.rankingStrategy,index:0},c.isDefinedAndNotEmpty(w)&&(w.destroy(),w=null),ca=h.now(),x.get(h,"#ivVideoBlock",D,ma,J))};F.update=function(a){};n.attachTabSelectHandler("ivVideosTab",N);h.on("vsePlayer-detailpage-imageblock",K);h.on("a:popover:afterShow:immersiveView",S);h.on("a:popover:beforeHide:immersiveView",ka);h.on("detailpage-imageblock-leave-pip",
V)}});"use strict";x.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",function(h,a,c,v,n){function B(c,h){if(c){H=q.getCurrentItem();0==Object.entries(w).length&&y();var e=H.shoppableScene;e==ha?(c=U(Object.values(w)[0]),e=Object.values(w)[0].shoppableScene):c=U(D[H.index]);A=e.physicalId;var r=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<r.length){var n=a("\x3cimg\x3e");n.attr("id","shoppableSceneIvImage");
n.attr("src",c);n.css({"max-height":"500px","max-width":"650px"});r.replaceWith(n);c=z(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();c.appendTo(e)}else m.hide(),K();la();c=H.shoppableScene?H.shoppableScene:Object.values(w)[0].shoppableScene;ea(c);O(h,E,null,A)}}function y(){D=F.colorImages[H.color];E=F.colorToAsin[H.color].asin;D.forEach(function(a){a.shoppableScene!=ha&&(w[a.shoppableScene.physicalId]=a)})}function z(c){var e=a("\x3cspan\x3e");h.each(c.tags,function(g){var m=a("\x3cdiv\x3e").css({position:"absolute",
left:100*g.left+"%",top:100*g.top+"%",height:"auto",width:"auto"});m.append(Q(!1));m.append(Q(!0));h.declarative.create(m,"scenes-show-details-tags-ib-iv-click",{tagId:g.link,physicalId:c.physicalId});e.append(m)});return e.children()}function Q(c){var e=a("\x3cimg src\x3d'"+(c?F.staticImages.shoppableSceneDotHighlighted:F.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:c?"none":"inline-block"});e.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return e}
function la(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(w).forEach(function(e){var g=w[e],m=a("\x3cimg\x3e");g=U(g);m.attr("id","shoppable-scene-thumbnail-"+e);m.attr("src",g);m.addClass("shoppable-scene-thumbnail");h.declarative.create(m,"scenes-thumbnail-ib-iv-click",{physicalId:e});m.appendTo(c)})}function ea(a){S();x.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){h.trigger("mirai:scene-immersive-recommendation-col-init",
{scene:a})})}function N(a,c){S();x.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-recommendation-col-update",{tagId:a,physicalId:c})})}function R(){var c=w[A].shoppableScene,h=a(".shoppable-scene-image-block-tags-in-iv");h.hide();c=z(c);h.empty();c.appendTo(h);h.show();m.show()}function K(){var c=U(w[A]),h=a("#shoppableSceneIvImage");h.bind("load",R);h.attr("src",c)}function O(a,c,g,m){var e="shoppable-scene-dp-iv:mirai:"+
a;x.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){h.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,csmCounterName:e,asin:c,tagId:g,physicalId:m})})}function ka(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");h.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function S(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");
0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var h=a("\x3cimg\x3e");h.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");h.attr("src",F.staticImages.spinner);h.css({position:"relative"}).appendTo(c)}function U(a){return a.hiRes||a.large||a.main[a.main.length-1]}var V=void 0,F=void 0,q=void 0,m=void 0,D=void 0,H=void 0,E=void 0,I=void 0,A=void 0,w={};h.declarative("shoppable-scene-image-click","click",function(a){B(!0,
"IMAGE_BLOCK_SHOPPABLE_SCENE")});h.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=I){var e=I.find(".active-tag"),h=I.find(".inactive-tag");e.css({display:"none"});h.css({display:"inline-block"})}e=c.find(".active-tag");h=c.find(".inactive-tag");e.css({display:"inline-block"});e.addClass("mirai-scene-dot-pulsate");h.css({display:"none"});I=c;ka();N(a.data.tagId,a.data.physicalId);O("IMMERSIVE_VIEW_PRODUCT_TAG",E,a.data.tagId,a.data.physicalId)});
h.declarative("scenes-thumbnail-ib-iv-click","click",function(a){A=a.data.physicalId;K();ea(w[A].shoppableScene)});return function(c,h,g,n){V=this;F=c;q=h;m=a("#ivMainShoppableScene");V.render=function(a,c,e,g,h,m){};V.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=q.getCurrentItem();B(null==H||H.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(d){var b=window.AmazonUIPageJS||window.P,h=b._namespace||b.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):b;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,b,h){d.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var e=a.$,g=e("#featurebullets_feature_div"),k=e("#productOverview_feature_div");if(g&&0<g.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=e("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(n){d.log("Feature bullets metric logging failed with error: ( "+
n+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";d.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,e,g,k){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=e.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(c<=f[b]){a="image_size_bucket:"+f[b-1]+"-"+f[b];break}k.postCountMetric(a);g.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,b.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=e.lazyLoadExperienceDisabled;g.isDefined(e.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";d.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});d.register("postEarlyMetric",function(){return null});"use strict";d.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=b.ue;if(c){var e=c.count(a)||0;c.count(a,e+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var e=b.ue;e&&e.count(a,c)}},emitNexusMetric:function(a){b.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.5",{ssd:!1})},buildNexusMetric:function(a,c,e,g,k,f,d,m,p){d=f="";try{f=b.location.href;var l=f.match(/\/dp\/([A-Z0-9]{10})/);l&&l[1]&&(d=l[1])}catch(q){(l=b.ue)&&l.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",
placementContext:p,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+c,videoAsin:e,videoAsinList:"",rankingStrategy:g===h?"":g,groupType:k===h?"":k,pageUrl:f,pageAsin:d,weblabIds:m===h?"":m}}}});"use strict";d.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,c,e){var d=a.state("desktop-landing-image-data");d&&(d=a.values(d),c=c.getResourceTimeByName("img",d),a.each(c,function(a){a&&(a.responseEnd!=h&&e.postCountMetric("ibDesktopLandingImageDownloadTime",
b.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?e.postCountMetric("ibDesktopLandingImageCached",1):(e.postCountMetric("ibDesktopLandingImageSizeInBytes",b.parseInt(a.transferSize)),e.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
